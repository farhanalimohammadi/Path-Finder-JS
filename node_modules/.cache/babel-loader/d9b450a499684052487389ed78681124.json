{"remainingRequest":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/babel-loader/lib/index.js!/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/src/components/VisualizerCanvas.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/src/components/VisualizerCanvas.vue","mtime":1771256159756},{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/babel.config.js","mtime":1771256159516},{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/cache-loader/dist/cjs.js","mtime":1771499059513},{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/babel-loader/lib/index.js","mtime":1771499059998},{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/cache-loader/dist/cjs.js","mtime":1771499059513},{"path":"/home/farhan/Desktop/My-Projects/city-project/Pathfinding-Visualizer-ThreeJS/node_modules/vue-loader/lib/index.js","mtime":1771499060190}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAqIGFzIFRIUkVFIGZyb20gInRocmVlIjsKaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzIjsKaW1wb3J0IHsgUG9pbnRlckxvY2tDb250cm9scyB9IGZyb20gInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9Qb2ludGVyTG9ja0NvbnRyb2xzLmpzIjsKaW1wb3J0IFRXRUVOLCB7IHJlbW92ZUFsbCB9IGZyb20gIkB0d2VlbmpzL3R3ZWVuLmpzIjsKaW1wb3J0IFN0YXRzIGZyb20gInRocmVlL2V4YW1wbGVzL2pzbS9saWJzL3N0YXRzLm1vZHVsZS5qcyI7CmltcG9ydCB7IGdldEFsbE5vZGVzLCB0d2VlblRvQ29sb3IgfSBmcm9tICIuL2FsZ29yaXRobXMvaGVscGVycy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJub2RlRGltZW5zaW9ucyIsICJncmlkIiwgInJvd3MiLCAiY29scyIsICJzdGFydCIsICJmaW5pc2giLCAidmlzdWFsaXplclN0YXRlIiwgImNvbG9ycyIsICJjb250cm9sVHlwZSIsICJ3b3JsZFNldHVwIiwgInNlbGVjdGVkQWxnb3JpdGhtIiwgInN0cmVhbWluZyIsICJ0aHJlc2hvbGRWYWx1ZSJdLAogIGRhdGE6ICgpID0+ICh7CiAgICBzY2VuZTogbnVsbCwKICAgIGNhbWVyYTogbnVsbCwKICAgIGNhbWVyYVk6IDAsCiAgICBkZWZhdWx0Q2FtZXJhWTogMjUwLAogICAgcmVuZGVyZXI6IG51bGwsCiAgICBwb2ludGVyTG9jazogewogICAgICBtb3ZlRm9yd2FyZDogZmFsc2UsCiAgICAgIG1vdmVCYWNrd2FyZDogZmFsc2UsCiAgICAgIG1vdmVMZWZ0OiBmYWxzZSwKICAgICAgbW92ZVJpZ2h0OiBmYWxzZSwKICAgICAgdmVsb2NpdHk6IG51bGwsCiAgICAgIGRpcmVjdGlvbjogbnVsbCwKICAgICAgcHJldlRpbWU6IG51bGwKICAgIH0sCiAgICBjb250cm9sczogbnVsbCwKICAgIG9yYml0Q29udHJvbHM6IG51bGwsCiAgICBwb2ludGVyTG9ja0NvbnRyb2xzOiBudWxsLAogICAgcmF5Y2FzdGVyOiBudWxsLAogICAgYW1iaWVudExpZ2h0OiBudWxsLAogICAgaGVtaXNwaGVyZUxpZ2h0OiBudWxsLAogICAgZGlyZWN0aW9uYWxMaWdodDogbnVsbCwKICAgIGdyb3VuZDogbnVsbCwKICAgIHdhbGxHZW9tdGVyeTogbnVsbCwKICAgIHdhbGxNYXRlcmlhbHM6IFtdLAogICAgd2FsbHM6IHt9LAogICAgd2FsbFRleHR1cmVzOiBbewogICAgICBwYXRoOiAiYnVpbGRpbmcxLnBuZyIsCiAgICAgIHJlcGVhdFk6IDEKICAgIH0sIHsKICAgICAgcGF0aDogImJ1aWxkaW5nMi5wbmciLAogICAgICByZXBlYXRZOiAyCiAgICB9LCB7CiAgICAgIHBhdGg6ICJidWlsZGluZzMucG5nIiwKICAgICAgcmVwZWF0WTogMwogICAgfV0sCiAgICBkb3duOiBmYWxzZSwKICAgIG1vdmVkOiBmYWxzZSwKICAgIGN1cnJlbnRFdmVudDogbnVsbCwKICAgIG1vdXNlOiBudWxsLAogICAgaW50ZXJzZWN0ZWROb2RlOiBudWxsLAogICAgY2xvY2s6IG51bGwsCiAgICBzdGF0czogbnVsbCwKICAgIC8vIERldmljZSBjYW0KICAgIHZpZGVvQ2FudmFzOiBudWxsLAogICAgdmlkZW86IG51bGwKICB9KSwKICBjb21wdXRlZDogewogICAgY2xpY2thYmxlT2JqZWN0cygpIHsKICAgICAgbGV0IG9iamVjdHMgPSBbXTsKICAgICAgb2JqZWN0cy5wdXNoKHRoaXMuZ3JvdW5kKTsKICAgICAgZm9yIChsZXQgaWQgb2YgT2JqZWN0LmtleXModGhpcy53YWxscykpIHsKICAgICAgICBpZiAodGhpcy53YWxsc1tpZF0udmlzaWJsZSkgewogICAgICAgICAgb2JqZWN0cy5wdXNoKHRoaXMud2FsbHNbaWRdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG9iamVjdHM7CiAgICB9LAogICAgY29sbGlkYWJsZU9iamVjdHMoKSB7CiAgICAgIGxldCBvYmplY3RzID0gW107CiAgICAgIGZvciAobGV0IGlkIG9mIE9iamVjdC5rZXlzKHRoaXMud2FsbHMpKSB7CiAgICAgICAgaWYgKHRoaXMud2FsbHNbaWRdLnZpc2libGUpIHsKICAgICAgICAgIG9iamVjdHMucHVzaCh0aGlzLndhbGxzW2lkXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvYmplY3RzOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbnRyb2xUeXBlOiBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5zZXRDb250cm9scygpOwogICAgfSwKICAgIHdvcmxkU2V0dXA6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsKSB7CiAgICAgICAgVFdFRU4ucmVtb3ZlQWxsKCk7CiAgICAgICAgbmV3IFRXRUVOLlR3ZWVuKHRoaXMuY2FtZXJhLnBvc2l0aW9uKS50byh7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogdGhpcy5jYW1lcmFZIC0gMzAsCiAgICAgICAgICB6OiAwCiAgICAgICAgfSwgNTAwKS5lYXNpbmcoVFdFRU4uRWFzaW5nLkV4cG9uZW50aWFsLk91dCkub25VcGRhdGUoKCkgPT4gewogICAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuc2NlbmUucG9zaXRpb24pOwogICAgICAgIH0pLm9uQ29tcGxldGUoKCkgPT4gewogICAgICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSBmYWxzZTsKICAgICAgICAgIGxldCBsb29rRGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsKICAgICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkRGlyZWN0aW9uKGxvb2tEaXJlY3Rpb24pOwogICAgICAgICAgdGhpcy5jb250cm9scy50YXJnZXQuY29weSh0aGlzLmNhbWVyYS5wb3NpdGlvbikuYWRkKGxvb2tEaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIodGhpcy5jYW1lcmFZIC0gMzApKTsKICAgICAgICB9KS5zdGFydCgpOwogICAgICAgIG5ldyBUV0VFTi5Ud2Vlbih0aGlzLmNhbWVyYS5yb3RhdGlvbikudG8oewogICAgICAgICAgeTogMCwKICAgICAgICAgIHo6IDAKICAgICAgICB9LCA1MDApLmVhc2luZyhUV0VFTi5FYXNpbmcuRXhwb25lbnRpYWwuT3V0KS5zdGFydCgpOwogICAgICB9IGVsc2UgewogICAgICAgIG5ldyBUV0VFTi5Ud2Vlbih0aGlzLmNhbWVyYS5wb3NpdGlvbikudG8oewogICAgICAgICAgeTogdGhpcy5jYW1lcmFZCiAgICAgICAgfSwgNTAwKS5lYXNpbmcoVFdFRU4uRWFzaW5nLkV4cG9uZW50aWFsLk91dCkub25Db21wbGV0ZSgoKSA9PiB7CiAgICAgICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7CiAgICAgICAgICB0aGlzLmNvbnRyb2xzLnVwZGF0ZSgpOwogICAgICAgIH0pLnN0YXJ0KCk7CiAgICAgIH0KICAgIH0sCiAgICBzdHJlYW1pbmc6IGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAoIW5ld1ZhbCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3dzOyBpKyspIHsKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb2xzOyBqKyspIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVOb2RlKHRoaXMuZ3JpZFtpXVtqXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5jYW1lcmFZID0gdGhpcy5kZWZhdWx0Q2FtZXJhWTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMudmlkZW9DYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdmlkZW8tY2FudmFzJyk7CiAgICB0aGlzLnZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIGxldCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLAogICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKCiAgICAgIC8vU2NlbmUKICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOwogICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoMHhiYmQ2ZmYpOwogICAgICB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coMHhmZmZmZmYsIDAsIDc1MCk7CgogICAgICAvL0NhbWVyYQogICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2lkdGggLyBoZWlnaHQsIDEsIDUwMDApOwogICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gdGhpcy5jYW1lcmFZICsgMjAwMDsKICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueCA9IC01MDA7CiAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1MDA7CiAgICAgIC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKHRoaXMuY2FtZXJhKTsKICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoaGVscGVyKTsKCiAgICAgIC8vUmVuZGVyZXIKICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsKICAgICAgICBhbnRpYWxpYXM6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7CiAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5CYXNpY1NoYWRvd01hcDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc3VhbGl6ZXIiKS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOwoKICAgICAgLy8gQ29udHJvbHMKICAgICAgdGhpcy5hZGRDb250cm9scygpOwogICAgICB0aGlzLnNldENvbnRyb2xzKHRydWUpOwoKICAgICAgLy8gUmF5Y2FzdGVyCiAgICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpOwoKICAgICAgLy8gR3JvdW5kCiAgICAgIGxldCBncmlkV2lkdGggPSB0aGlzLmNvbHMgKiB0aGlzLm5vZGVEaW1lbnNpb25zLndpZHRoLAogICAgICAgIGdyaWRIZWlnaHQgPSB0aGlzLnJvd3MgKiB0aGlzLm5vZGVEaW1lbnNpb25zLmhlaWdodDsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IGdyb3VuZEdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCB0aGlzLmNvbHMsIHRoaXMucm93cyk7CiAgICAgIGdyb3VuZEdlb21ldHJ5LnJvdGF0ZVgoLU1hdGguUEkgLyAyKTsKICAgICAgbGV0IGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7CiAgICAgIGxvYWRlci5sb2FkKHJlcXVpcmUoIkAvYXNzZXRzL3RleHR1cmVzL2dyb3VuZC5wbmciKSwgZnVuY3Rpb24gKHRleHR1cmUpIHsKICAgICAgICB0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7CiAgICAgICAgdGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nOwogICAgICAgIHRleHR1cmUucmVwZWF0LnggPSB2bS5yb3dzOwogICAgICAgIHRleHR1cmUucmVwZWF0LnkgPSB2bS5jb2xzOwogICAgICAgIHZhciBncm91bmRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsKICAgICAgICAgIG1hcDogdGV4dHVyZSwKICAgICAgICAgIHNpZGU6IFRIUkVFLkZyb250U2lkZSwKICAgICAgICAgIHZlcnRleENvbG9yczogVEhSRUUuRmFjZUNvbG9ycwogICAgICAgIH0pOwogICAgICAgIHZtLmdyb3VuZCA9IG5ldyBUSFJFRS5NZXNoKGdyb3VuZEdlb21ldHJ5LCBncm91bmRNYXRlcmlhbCk7CiAgICAgICAgdm0uZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlOwogICAgICAgIHZtLmdyb3VuZC5wb3NpdGlvbi55ID0gMC4wMjsKICAgICAgICB2bS5zY2VuZS5hZGQodm0uZ3JvdW5kKTsKICAgICAgICB2bS5pbml0R3JpZCgpOwogICAgICAgIHZtLiRlbWl0KCJncm91bmRJbml0aWFsaXplZCIsIHZtLmdyb3VuZCk7CiAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgICAgbGV0IGZha2VHcm91bmRHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEwMDAsIDEwMDAsIHRoaXMuY29scywgdGhpcy5yb3dzKTsKICAgICAgZmFrZUdyb3VuZEdlb21ldHJ5LnJvdGF0ZVgoLU1hdGguUEkgLyAyKTsKICAgICAgdmFyIGZha2VHcm91bmRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsKICAgICAgICAvLyBjb2xvcjogMHg4Nzc3NWQsCiAgICAgICAgY29sb3I6IDB4QkJDMkQwLAogICAgICAgIHNpZGU6IFRIUkVFLkZyb250U2lkZQogICAgICB9KTsKICAgICAgbGV0IGZha2VHcm91bmQgPSBuZXcgVEhSRUUuTWVzaChmYWtlR3JvdW5kR2VvbWV0cnksIGZha2VHcm91bmRNYXRlcmlhbCk7CiAgICAgIHRoaXMuc2NlbmUuYWRkKGZha2VHcm91bmQpOwoKICAgICAgLy9HcmlkIGhlbHBlcgogICAgICB2YXIgc2l6ZSA9IHRoaXMuY29scyAqIHRoaXMubm9kZURpbWVuc2lvbnMuaGVpZ2h0OwogICAgICB2YXIgZGl2aXNpb25zID0gdGhpcy5jb2xzOwogICAgICB2YXIgZ3JpZEhlbHBlciA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKHNpemUsIGRpdmlzaW9ucywgMHg1Yzc4YmQsIDB4NWM3OGJkKTsKICAgICAgZ3JpZEhlbHBlci5wb3NpdGlvbi55ID0gMC4wMzU7CiAgICAgIHRoaXMuc2NlbmUuYWRkKGdyaWRIZWxwZXIpOwoKICAgICAgLy8gV2FsbAogICAgICAvLyBsZXQgd2FsbEhlaWdodCA9IHRoaXMubm9kZURpbWVuc2lvbnMud2lkdGggKiAyICsgTWF0aC5yYW5kb20oKSAqIHRoaXMubm9kZURpbWVuc2lvbnMud2lkdGggKiAzOwogICAgICBsZXQgd2FsbEhlaWdodCA9IHRoaXMubm9kZURpbWVuc2lvbnMuaGVpZ2h0ICogMjsKICAgICAgdGhpcy53YWxsR2VvbXRlcnkgPSBuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkodGhpcy5ub2RlRGltZW5zaW9ucy53aWR0aCwgd2FsbEhlaWdodCwgdGhpcy5ub2RlRGltZW5zaW9ucy5oZWlnaHQpOwogICAgICBsZXQgd2FsbFRleHR1cmVPYmplY3QgPSB0aGlzLndhbGxUZXh0dXJlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLndhbGxUZXh0dXJlcy5sZW5ndGgpXTsKICAgICAgdGhpcy53YWxsTWF0ZXJpYWxzLnB1c2gobmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsKICAgICAgICBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKHRoaXMuY29sb3JzLndhbGwuciwgdGhpcy5jb2xvcnMud2FsbC5nLCB0aGlzLmNvbG9ycy53YWxsLmIpCiAgICAgIH0pKTsKICAgICAgZm9yIChsZXQgdGV4IG9mIHRoaXMud2FsbFRleHR1cmVzKSB7CiAgICAgICAgbG9hZGVyLmxvYWQocmVxdWlyZSgiQC9hc3NldHMvdGV4dHVyZXMvIiArIHRleC5wYXRoKSwgZnVuY3Rpb24gKHRleHR1cmUpIHsKICAgICAgICAgIHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZzsKICAgICAgICAgIHRleHR1cmUucmVwZWF0LnkgPSB0ZXgucmVwZWF0WTsKICAgICAgICAgIHZtLndhbGxNYXRlcmlhbHMucHVzaChuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7CiAgICAgICAgICAgIG1hcDogdGV4dHVyZQogICAgICAgICAgfSkpOwogICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIEFtYmllbnQgTGlnaHQKICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxKTsKICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5hbWJpZW50TGlnaHQpOwoKICAgICAgLy8gTElHSFRTCiAgICAgIHRoaXMuaGVtaXNwaGVyZUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZmZiwgMHhmZmZmZmYsIDAuMSk7CiAgICAgIHRoaXMuaGVtaXNwaGVyZUxpZ2h0LmNvbG9yLnNldEhTTCgwLjYsIDEsIDAuNik7CiAgICAgIHRoaXMuaGVtaXNwaGVyZUxpZ2h0Lmdyb3VuZENvbG9yLnNldEhleCgweDg3Nzc1ZCk7CiAgICAgIHRoaXMuaGVtaXNwaGVyZUxpZ2h0LnBvc2l0aW9uLnNldCgwLCA1LCAwKTsKICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5oZW1pc3BoZXJlTGlnaHQpOwoKICAgICAgLy8gbGV0IGhlbWlMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHRIZWxwZXIodGhpcy5oZW1pc3BoZXJlTGlnaHQsIDEwKTsKICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoaGVtaUxpZ2h0SGVscGVyKTsKCiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjUpOwogICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY29sb3Iuc2V0SFNMKDAuMSwgMSwgMC45NSk7CiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoLTEsIDEuNzUsIDEpOwogICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ubXVsdGlwbHlTY2FsYXIoNzApOwogICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmRpcmVjdGlvbmFsTGlnaHQpOwogICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDIwNDg7CiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAyMDQ4OwogICAgICB2YXIgZCA9IDIwMDsKICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IC1kOwogICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IGQ7CiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IGQ7CiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmJvdHRvbSA9IC1kOwogICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAzNTA7CgogICAgICAvLyBTS1lET01FCiAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVydGV4U2hhZGVyIikudGV4dENvbnRlbnQ7CiAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmcmFnbWVudFNoYWRlciIpLnRleHRDb250ZW50OwogICAgICB2YXIgdW5pZm9ybXMgPSB7CiAgICAgICAgdG9wQ29sb3I6IHsKICAgICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHgwMDc3ZmYpCiAgICAgICAgfSwKICAgICAgICBib3R0b21Db2xvcjogewogICAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZikKICAgICAgICB9LAogICAgICAgIG9mZnNldDogewogICAgICAgICAgdmFsdWU6IDMzCiAgICAgICAgfSwKICAgICAgICBleHBvbmVudDogewogICAgICAgICAgdmFsdWU6IDAuNgogICAgICAgIH0KICAgICAgfTsKICAgICAgdW5pZm9ybXNbInRvcENvbG9yIl0udmFsdWUuY29weSh0aGlzLmhlbWlzcGhlcmVMaWdodC5jb2xvcik7CiAgICAgIHRoaXMuc2NlbmUuZm9nLmNvbG9yLmNvcHkodW5pZm9ybXNbImJvdHRvbUNvbG9yIl0udmFsdWUpOwogICAgICB2YXIgc2t5R2VvID0gbmV3IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KDEwMDAsIDMyLCAxNSk7CiAgICAgIHZhciBza3lNYXQgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoewogICAgICAgIHVuaWZvcm1zOiB1bmlmb3JtcywKICAgICAgICB2ZXJ0ZXhTaGFkZXI6IHZlcnRleFNoYWRlciwKICAgICAgICBmcmFnbWVudFNoYWRlcjogZnJhZ21lbnRTaGFkZXIsCiAgICAgICAgc2lkZTogVEhSRUUuQmFja1NpZGUKICAgICAgfSk7CiAgICAgIHZhciBza3kgPSBuZXcgVEhSRUUuTWVzaChza3lHZW8sIHNreU1hdCk7CiAgICAgIHRoaXMuc2NlbmUuYWRkKHNreSk7CgogICAgICAvLyBTdGF0cwogICAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzKCk7CiAgICAgIHRoaXMuc3RhdHMuZG9tLnN0eWxlLnRvcCA9ICJhdXRvIjsKICAgICAgdGhpcy5zdGF0cy5kb20uc3R5bGUuYm90dG9tID0gJzVweCc7CiAgICAgIHRoaXMuc3RhdHMuZG9tLnN0eWxlLmxlZnQgPSAnM3B4JzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc3VhbGl6ZXIiKS5hcHBlbmRDaGlsZCh0aGlzLnN0YXRzLmRvbSk7CgogICAgICAvL1Jlc2l6ZSBoYW5kbGVyCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnJlc2l6ZUhhbmRsZXIpOwogICAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgdGhpcy5vbk1vdXNlRG93biwgdHJ1ZSk7CiAgICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgdGhpcy5vbk1vdXNlRG93biwgdHJ1ZSk7CiAgICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCB0aGlzLm9uTW91c2VNb3ZlLCB0cnVlKTsKICAgICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIHRoaXMub25Nb3VzZU1vdmUsIHRydWUpOwogICAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMub25Nb3VzZXVwLCB0cnVlKTsKICAgICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCB0aGlzLm9uTW91c2VMZWF2ZSwgdHJ1ZSk7CiAgICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIHRoaXMub25Nb3VzZXVwLCB0cnVlKTsKCiAgICAgIC8vIFNldHRpbmcgaG92ZXIgaGFuZGxlcgogICAgICB0aGlzLm1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTsKICAgICAgdGhpcy5yZW5kZXJMb29wKCk7CiAgICB9LAogICAgcmVuZGVyTG9vcCgpIHsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyTG9vcCk7CiAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09ICJQb2ludGVyTG9jayIpIHsKICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmNsb2NrLmdldERlbHRhKCk7CiAgICAgICAgdGhpcy5hbmltYXRlUGxheWVyKGRlbHRhKTsKICAgICAgfQogICAgICBpZiAodGhpcy53b3JsZFNldHVwKSB7CiAgICAgICAgdGhpcy5ob3Zlck9iamVjdExvb3AoKTsKICAgICAgICBpZiAodGhpcy5zdHJlYW1pbmcpIHsKICAgICAgICAgIHRoaXMuZGV2aWNlQ2FtTG9vcCgpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7CiAgICAgIFRXRUVOLnVwZGF0ZSgpOwogICAgICB0aGlzLnN0YXRzLnVwZGF0ZSgpOwogICAgfSwKICAgIGhvdmVyT2JqZWN0TG9vcCgpIHsKICAgICAgaWYgKCF0aGlzLmRvd24pIHsKICAgICAgICB0aGlzLmludGVyc2VjdGVkTm9kZSA9IG51bGw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5tb3VzZSwgdGhpcy5jYW1lcmEpOwogICAgICB2YXIgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5jbGlja2FibGVPYmplY3RzKTsKICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID4gMCkgewogICAgICAgIGxldCBjb29yZHM7CiAgICAgICAgaWYgKGludGVyc2VjdHNbMF0ub2JqZWN0Lm5hbWUgPT0gIndhbGwiKSB7CiAgICAgICAgICBjb29yZHMgPSB0aGlzLmZhY2VJbmRleFRvQ29vcmRpbmF0ZXMoaW50ZXJzZWN0c1swXS5vYmplY3Qud2FsbElkICogMik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBmYWNlSW5kZXggPSBpbnRlcnNlY3RzWzBdLmZhY2VJbmRleDsKICAgICAgICAgIGNvb3JkcyA9IHRoaXMuZmFjZUluZGV4VG9Db29yZGluYXRlcyhmYWNlSW5kZXgpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5ncmlkW2Nvb3Jkcy5yb3ddW2Nvb3Jkcy5jb2xdICE9IHRoaXMuaW50ZXJzZWN0ZWROb2RlKSB7CiAgICAgICAgICBsZXQgZW5kcyA9IFsic3RhcnQiLCAiZmluaXNoIl07CiAgICAgICAgICBpZiAoZW5kcy5pbmNsdWRlcyh0aGlzLmdyaWRbY29vcmRzLnJvd11bY29vcmRzLmNvbF0uc3RhdHVzKSB8fCB0aGlzLmludGVyc2VjdGVkTm9kZSAmJiBlbmRzLmluY2x1ZGVzKHRoaXMuaW50ZXJzZWN0ZWROb2RlLnN0YXR1cykpIHsKICAgICAgICAgICAgbGV0IGVuZDsKICAgICAgICAgICAgaWYgKGVuZHMuaW5jbHVkZXModGhpcy5ncmlkW2Nvb3Jkcy5yb3ddW2Nvb3Jkcy5jb2xdLnN0YXR1cykpIHsKICAgICAgICAgICAgICBlbmQgPSB0aGlzLmdyaWRbY29vcmRzLnJvd11bY29vcmRzLmNvbF0uc3RhdHVzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGVuZCA9IHRoaXMuaW50ZXJzZWN0ZWROb2RlLnN0YXR1czsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgICAgIG9ialtlbmRdID0gewogICAgICAgICAgICAgIHJvdzogY29vcmRzLnJvdywKICAgICAgICAgICAgICBjb2w6IGNvb3Jkcy5jb2wKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0ZWROb2RlICYmIGVuZHMuaW5jbHVkZXModGhpcy5pbnRlcnNlY3RlZE5vZGUuc3RhdHVzKSkgewogICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0ZWROb2RlLnN0YXR1cyA9ICJkZWZhdWx0IjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmdyaWRbY29vcmRzLnJvd11bY29vcmRzLmNvbF0uc3RhdHVzID0gZW5kOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVFbmRzIiwgb2JqKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFsZ29yaXRobS50eXBlICE9ICd1bndlaWdodGVkJyAmJiAoIXRoaXMuaW50ZXJzZWN0ZWROb2RlIHx8ICFlbmRzLmluY2x1ZGVzKHRoaXMuaW50ZXJzZWN0ZWROb2RlLnN0YXR1cykpKSB7CiAgICAgICAgICAgIHRoaXMuZ3JpZFtjb29yZHMucm93XVtjb29yZHMuY29sXS5zdGF0dXMgPSB0aGlzLmdyaWRbY29vcmRzLnJvd11bY29vcmRzLmNvbF0uc3RhdHVzID09ICJ3YWxsIiA/ICJkZWZhdWx0IiA6ICJ3YWxsIjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaW50ZXJzZWN0ZWROb2RlID0gdGhpcy5ncmlkW2Nvb3Jkcy5yb3ddW2Nvb3Jkcy5jb2xdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFuaW1hdGVQbGF5ZXIoZGVsdGEpIHsKICAgICAgbGV0IHBsYXllclNwZWVkID0gMzAwOwogICAgICAvLyBHcmFkdWFsIHNsb3dkb3duCiAgICAgIHRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueCAtPSB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnggKiAxMC4wICogZGVsdGE7CiAgICAgIHRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueiAtPSB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnogKiAxMC4wICogZGVsdGE7CiAgICAgIGlmICh0aGlzLmRldGVjdFBsYXllckNvbGxpc2lvbigpID09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay5kaXJlY3Rpb24ueiA9IE51bWJlcih0aGlzLnBvaW50ZXJMb2NrLm1vdmVGb3J3YXJkKSAtIE51bWJlcih0aGlzLnBvaW50ZXJMb2NrLm1vdmVCYWNrd2FyZCk7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay5kaXJlY3Rpb24ueCA9IE51bWJlcih0aGlzLnBvaW50ZXJMb2NrLm1vdmVSaWdodCkgLSBOdW1iZXIodGhpcy5wb2ludGVyTG9jay5tb3ZlTGVmdCk7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay5kaXJlY3Rpb24ubm9ybWFsaXplKCk7IC8vIHRoaXMgZW5zdXJlcyBjb25zaXN0ZW50IG1vdmVtZW50cyBpbiBhbGwgZGlyZWN0aW9ucwoKICAgICAgICBpZiAodGhpcy5wb2ludGVyTG9jay5tb3ZlRm9yd2FyZCB8fCB0aGlzLnBvaW50ZXJMb2NrLm1vdmVCYWNrd2FyZCkgdGhpcy5wb2ludGVyTG9jay52ZWxvY2l0eS56IC09IHRoaXMucG9pbnRlckxvY2suZGlyZWN0aW9uLnogKiBwbGF5ZXJTcGVlZCAqIGRlbHRhOwogICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrLm1vdmVMZWZ0IHx8IHRoaXMucG9pbnRlckxvY2subW92ZVJpZ2h0KSB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnggLT0gdGhpcy5wb2ludGVyTG9jay5kaXJlY3Rpb24ueCAqIHBsYXllclNwZWVkICogZGVsdGE7CiAgICAgICAgdGhpcy5jb250cm9scy5tb3ZlUmlnaHQoLXRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueCAqIGRlbHRhKTsKICAgICAgICB0aGlzLmNvbnRyb2xzLm1vdmVGb3J3YXJkKC10aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnogKiBkZWx0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay52ZWxvY2l0eS54ID0gMDsKICAgICAgICB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnogPSAwOwogICAgICB9CiAgICAgIHRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueSAtPSA5LjggKiA1MC4wICogZGVsdGE7IC8vIDUwLjAgPSBtYXNzCiAgICAgIGlmICh0aGlzLmRldGVjdE9uT2JqZWN0KCkpIHsKICAgICAgICB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnkgPSBNYXRoLm1heCgwLCB0aGlzLnBvaW50ZXJMb2NrLnZlbG9jaXR5LnkpOwogICAgICAgIHRoaXMucG9pbnRlckxvY2suY2FuSnVtcCA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy5jb250cm9scy5nZXRPYmplY3QoKS5wb3NpdGlvbi55ICs9IHRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueSAqIGRlbHRhOwogICAgICBpZiAodGhpcy5jb250cm9scy5nZXRPYmplY3QoKS5wb3NpdGlvbi55IDwgdGhpcy5jYW1lcmFZKSB7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay52ZWxvY2l0eS55ID0gMDsKICAgICAgICB0aGlzLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uLnkgPSB0aGlzLmNhbWVyYVk7CiAgICAgICAgdGhpcy5wb2ludGVyTG9jay5jYW5KdW1wID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGRldGVjdFBsYXllckNvbGxpc2lvbigpIHsKICAgICAgbGV0IHJvdGF0aW9uTWF0cml4OwogICAgICAvLyBHZXQgZGlyZWN0aW9uIG9mIGNhbWVyYQogICAgICBsZXQgY2FtZXJhRGlyZWN0aW9uID0gdGhpcy5jb250cm9scy5nZXREaXJlY3Rpb24obmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpLmNsb25lKCk7CiAgICAgIGxldCBjb2xsaXNpb25EaXN0YW5jZSA9IDE7CgogICAgICAvLyBDaGVjayB3aGljaCBkaXJlY3Rpb24gd2UncmUgbW92aW5nIChub3QgbG9va2luZykKICAgICAgLy8gRmxpcCBtYXRyaXggdG8gdGhhdCBkaXJlY3Rpb24gc28gdGhhdCB3ZSBjYW4gcmVwb3NpdGlvbiB0aGUgcmF5CiAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrLm1vdmVCYWNrd2FyZCkgewogICAgICAgIHJvdGF0aW9uTWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTsKICAgICAgICByb3RhdGlvbk1hdHJpeC5tYWtlUm90YXRpb25ZKHRoaXMuZGVncmVlc1RvUmFkaWFucygxODApKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50ZXJMb2NrLm1vdmVMZWZ0KSB7CiAgICAgICAgcm90YXRpb25NYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpOwogICAgICAgIHJvdGF0aW9uTWF0cml4Lm1ha2VSb3RhdGlvblkodGhpcy5kZWdyZWVzVG9SYWRpYW5zKDkwKSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2ludGVyTG9jay5tb3ZlUmlnaHQpIHsKICAgICAgICByb3RhdGlvbk1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7CiAgICAgICAgcm90YXRpb25NYXRyaXgubWFrZVJvdGF0aW9uWSh0aGlzLmRlZ3JlZXNUb1JhZGlhbnMoMjcwKSk7CiAgICAgIH0KCiAgICAgIC8vIFBsYXllciBpcyBub3QgbW92aW5nIGZvcndhcmQsIGFwcGx5IHJvdGF0aW9uIG1hdHJpeCBuZWVkZWQKICAgICAgaWYgKHJvdGF0aW9uTWF0cml4ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjYW1lcmFEaXJlY3Rpb24uYXBwbHlNYXRyaXg0KHJvdGF0aW9uTWF0cml4KTsKICAgICAgfQoKICAgICAgLy8gQXBwbHkgcmF5IHRvIHBsYXllciBjYW1lcmEKICAgICAgbGV0IHJheUNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIodGhpcy5jb250cm9scy5nZXRPYmplY3QoKS5wb3NpdGlvbiwgY2FtZXJhRGlyZWN0aW9uKTsKCiAgICAgIC8vIElmIG91ciByYXkgaGl0IGEgY29sbGlkYWJsZSBvYmplY3QsIHJldHVybiB0cnVlCiAgICAgIGlmICh0aGlzLnJheUludGVyc2VjdChyYXlDYXN0ZXIsIGNvbGxpc2lvbkRpc3RhbmNlKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGRldGVjdE9uT2JqZWN0KCkgewogICAgICBsZXQgY29sbGlzaW9uRGlzdGFuY2UgPSB0aGlzLmNhbWVyYVkgKyAxOwogICAgICBsZXQgcmF5Q2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3Rlcih0aGlzLmNvbnRyb2xzLmdldE9iamVjdCgpLnBvc2l0aW9uLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMSwgMCkpOwogICAgICAvLyByYXlDYXN0ZXIucmF5Lm9yaWdpbi55IC09IHRoaXMuY2FtZXJhWTsKICAgICAgaWYgKHRoaXMucmF5SW50ZXJzZWN0KHJheUNhc3RlciwgY29sbGlzaW9uRGlzdGFuY2UpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZGV2aWNlQ2FtTG9vcCgpIHsKICAgICAgbGV0IHZpZGVvQ3R4ID0gdGhpcy52aWRlb0NhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICB2aWRlb0N0eC5kcmF3SW1hZ2UodGhpcy52aWRlbywgMCwgMCwgdGhpcy52aWRlb0NhbnZhcy53aWR0aCwgdGhpcy52aWRlb0NhbnZhcy5oZWlnaHQpOwogICAgICBsZXQgcGl4ZWxzID0gdmlkZW9DdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMudmlkZW9DYW52YXMud2lkdGgsIHRoaXMudmlkZW9DYW52YXMuaGVpZ2h0KTsKICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnZpZGVvQ2FudmFzLmhlaWdodDsgeSsrKSB7CiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnZpZGVvQ2FudmFzLndpZHRoOyB4KyspIHsKICAgICAgICAgIGxldCBpbmRleCA9ICh4ICsgeSAqIHRoaXMudmlkZW9DYW52YXMud2lkdGgpICogNDsKICAgICAgICAgIGxldCByID0gcGl4ZWxzLmRhdGFbaW5kZXggKyAwXTsKICAgICAgICAgIGxldCBnID0gcGl4ZWxzLmRhdGFbaW5kZXggKyAxXTsKICAgICAgICAgIGxldCBiID0gcGl4ZWxzLmRhdGFbaW5kZXggKyAyXTsKICAgICAgICAgIGxldCBicmlnaHRuZXNzID0gTWF0aC5mbG9vcigociArIGcgKyBiKSAvIDMpOwogICAgICAgICAgbGV0IGdyaWRYID0gTWF0aC5mbG9vcih0aGlzLnZpZGVvQ2FudmFzLndpZHRoIC0gMSAtIHgpOwogICAgICAgICAgbGV0IHN0YXR1cyA9ICJkZWZhdWx0IjsKICAgICAgICAgIGlmICh5ID09IHRoaXMuc3RhcnQucm93ICYmIGdyaWRYID09IHRoaXMuc3RhcnQuY29sKSB7CiAgICAgICAgICAgIHN0YXR1cyA9ICJzdGFydCI7CiAgICAgICAgICB9IGVsc2UgaWYgKHkgPT0gdGhpcy5maW5pc2gucm93ICYmIGdyaWRYID09IHRoaXMuZmluaXNoLmNvbCkgewogICAgICAgICAgICBzdGF0dXMgPSAiZmluaXNoIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChicmlnaHRuZXNzID4gdGhpcy50aHJlc2hvbGRWYWx1ZSkgewogICAgICAgICAgICB0aGlzLmdyaWRbeV1bZ3JpZFhdLnN0YXR1cyA9IHN0YXR1czsKICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzICE9ICdzdGFydCcgJiYgc3RhdHVzICE9ICdmaW5pc2gnKSB7CiAgICAgICAgICAgIHRoaXMuZ3JpZFt5XVtncmlkWF0uc3RhdHVzID0gJ3dhbGwnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJheUludGVyc2VjdChyYXksIGRpc3RhbmNlKSB7CiAgICAgIHZhciBpbnRlcnNlY3RzID0gcmF5LmludGVyc2VjdE9iamVjdHModGhpcy5jb2xsaWRhYmxlT2JqZWN0cyk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJzZWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBjb2xsaXNpb24KICAgICAgICBpZiAoaW50ZXJzZWN0c1tpXS5kaXN0YW5jZSA8IGRpc3RhbmNlKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGFkZENvbnRyb2xzKCkgewogICAgICB0aGlzLm9yYml0Q29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKICAgICAgdGhpcy5wb2ludGVyTG9ja0NvbnRyb2xzID0gbmV3IFBvaW50ZXJMb2NrQ29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7CiAgICAgIHRoaXMucG9pbnRlckxvY2tDb250cm9scy5hZGRFdmVudExpc3RlbmVyKCJsb2NrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJQb2ludGVyIExvY2tlZCIpOwogICAgICB9KTsKICAgICAgdGhpcy5wb2ludGVyTG9ja0NvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoInVubG9jayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiUG9pbnRlciBVbmxvY2tlZCIpOwogICAgICB9KTsKICAgICAgLy8gQ2xvY2sKICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcy5vbktleURvd24sIGZhbHNlKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCB0aGlzLm9uS2V5VXAsIGZhbHNlKTsKICAgICAgdGhpcy5wb2ludGVyTG9jay52ZWxvY2l0eSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CiAgICAgIHRoaXMucG9pbnRlckxvY2suZGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsKICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wb2ludGVyTG9ja0NvbnRyb2xzLmdldE9iamVjdCgpKTsKICAgIH0sCiAgICBzZXRDb250cm9scyhmcm9tSW5pdCA9IGZhbHNlKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIFRXRUVOLnJlbW92ZUFsbCgpOwogICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PSAiT3JiaXQiKSB7CiAgICAgICAgLy8gT3JiaXRDb250cm9scwogICAgICAgIHRoaXMuY2FtZXJhWSA9IHRoaXMuZGVmYXVsdENhbWVyYVk7CiAgICAgICAgdGhpcy5jYW1lcmEubmVhciA9IDE7CiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogICAgICAgIHRoaXMuY29udHJvbHMgPSB0aGlzLm9yYml0Q29udHJvbHM7CiAgICAgICAgdGhpcy5jb250cm9scy5lbmFibGVkID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHZtLnJlc2V0Q2FtZXJhKCk7CiAgICAgICAgfSwgZnJvbUluaXQgPyA4MDAgOiAwKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xUeXBlID09ICJQb2ludGVyTG9jayIpIHsKICAgICAgICAvLyBQb2ludGVyTG9jayBjb250cm9scwogICAgICAgIHRoaXMuY2FtZXJhWSA9IDM7CiAgICAgICAgdGhpcy5jYW1lcmEubmVhciA9IDAuMDU7CiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogICAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuY29udHJvbHMgPSB0aGlzLnBvaW50ZXJMb2NrQ29udHJvbHM7CiAgICAgICAgbGV0IHN0YXJ0UG9zaXRpb24gPSB0aGlzLmdyb3VuZC5nZW9tZXRyeS52ZXJ0aWNlc1t0aGlzLmdyaWRbdGhpcy5zdGFydC5yb3ddW3RoaXMuc3RhcnQuY29sXS5mYWNlc1sxXVsiYSJdXTsKICAgICAgICBuZXcgVFdFRU4uVHdlZW4odGhpcy5jYW1lcmEucG9zaXRpb24pLnRvKHN0YXJ0UG9zaXRpb24sIDIwMDApLmVhc2luZyhUV0VFTi5FYXNpbmcuRXhwb25lbnRpYWwuT3V0KS5zdGFydCgpOwogICAgICAgIG5ldyBUV0VFTi5Ud2Vlbih0aGlzLmNhbWVyYS5yb3RhdGlvbikudG8oewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDUgKiBNYXRoLlBJIC8gNCwKICAgICAgICAgIHo6IDAKICAgICAgICB9LCAyMDAwKS5lYXNpbmcoVFdFRU4uRWFzaW5nLkV4cG9uZW50aWFsLk91dCkuc3RhcnQoKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0Q2FtZXJhKCkgewogICAgICBuZXcgVFdFRU4uVHdlZW4odGhpcy5jYW1lcmEucG9zaXRpb24pLnRvKHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IHRoaXMuY2FtZXJhWSwKICAgICAgICB6OiAwCiAgICAgIH0sIDIwMDApLmVhc2luZyhUV0VFTi5FYXNpbmcuRXhwb25lbnRpYWwuT3V0KS5vblVwZGF0ZSgoKSA9PiB7CiAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuc2NlbmUucG9zaXRpb24pOwogICAgICB9KS5vbkNvbXBsZXRlKCgpID0+IHsKICAgICAgICBsZXQgbG9va0RpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CiAgICAgICAgdGhpcy5jYW1lcmEuZ2V0V29ybGREaXJlY3Rpb24obG9va0RpcmVjdGlvbik7CiAgICAgICAgdGhpcy5jb250cm9scy50YXJnZXQuY29weSh0aGlzLmNhbWVyYS5wb3NpdGlvbikuYWRkKGxvb2tEaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIodGhpcy5jYW1lcmFZKSk7CiAgICAgIH0pLnN0YXJ0KCk7CiAgICAgIG5ldyBUV0VFTi5Ud2Vlbih0aGlzLmNhbWVyYS5yb3RhdGlvbikudG8oewogICAgICAgIHg6IC1NYXRoLlBJIC8gMiwKICAgICAgICB5OiAwLAogICAgICAgIHo6IDAKICAgICAgfSwgMjAwMCkuZWFzaW5nKFRXRUVOLkVhc2luZy5FeHBvbmVudGlhbC5PdXQpLnN0YXJ0KCk7CiAgICB9LAogICAgcmVzaXplSGFuZGxlcihldmVudCkgewogICAgICBsZXQgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7CiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTsKICAgIH0sCiAgICBpbml0R3JpZCgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJvd3M7IGkrKykgewogICAgICAgIGxldCBjdXJyZW50Um93ID0gW107CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmNvbHM7IGorKykgewogICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmNyZWF0ZU5vZGUoaSwgaik7CiAgICAgICAgICBjdXJyZW50Um93LnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZ3JpZC5wdXNoKGN1cnJlbnRSb3cpOwogICAgICB9CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3dzOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29sczsgaisrKSB7CiAgICAgICAgICB0aGlzLiR3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdyaWRbaV1bal07CiAgICAgICAgICB9LCB0aGlzLm5vZGVXYXRjaGVyLCB7CiAgICAgICAgICAgIGRlZXA6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNyZWF0ZU5vZGUocm93LCBjb2wpIHsKICAgICAgbGV0IGZhY2VzID0ge307CiAgICAgIGxldCBmYWNlSW5kZXggPSByb3cgKiAyICogdGhpcy5jb2xzICsgY29sICogMjsKICAgICAgZmFjZXNbMV0gPSB0aGlzLmdyb3VuZC5nZW9tZXRyeS5mYWNlc1tmYWNlSW5kZXhdOwogICAgICBmYWNlSW5kZXggPSBmYWNlSW5kZXggJSAyID09IDAgPyBmYWNlSW5kZXggKyAxIDogZmFjZUluZGV4IC0gMTsKICAgICAgZmFjZXNbMl0gPSB0aGlzLmdyb3VuZC5nZW9tZXRyeS5mYWNlc1tmYWNlSW5kZXhdOwogICAgICBsZXQgc3RhdHVzID0gImRlZmF1bHQiOwogICAgICBpZiAocm93ID09IHRoaXMuc3RhcnQucm93ICYmIGNvbCA9PSB0aGlzLnN0YXJ0LmNvbCkgewogICAgICAgIHN0YXR1cyA9ICJzdGFydCI7CiAgICAgIH0gZWxzZSBpZiAocm93ID09IHRoaXMuZmluaXNoLnJvdyAmJiBjb2wgPT0gdGhpcy5maW5pc2guY29sKSB7CiAgICAgICAgc3RhdHVzID0gImZpbmlzaCI7CiAgICAgIH0KCiAgICAgIC8vIE5vZGUgaW5mbwogICAgICBsZXQgbm9kZSA9IHsKICAgICAgICBpZDogcm93ICogdGhpcy5jb2xzICsgY29sLAogICAgICAgIHJvdzogcm93LAogICAgICAgIGNvbDogY29sLAogICAgICAgIGZhY2VzOiBmYWNlcywKICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICBkaXN0YW5jZTogSW5maW5pdHksCiAgICAgICAgdG90YWxEaXN0YW5jZTogSW5maW5pdHksCiAgICAgICAgaGV1cmlzdGljRGlzdGFuY2U6IG51bGwsCiAgICAgICAgZGlyZWN0aW9uOiBudWxsLAogICAgICAgIHdlaWdodDogMCwKICAgICAgICBwcmV2aW91c05vZGU6IG51bGwKICAgICAgfTsKICAgICAgaWYgKHN0YXR1cyA9PSAic3RhcnQiKSB7CiAgICAgICAgdHdlZW5Ub0NvbG9yKG5vZGUsIHRoaXMuZ3JvdW5kLmdlb21ldHJ5LCBbdGhpcy5jb2xvcnMuc3RhcnRdKTsKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gImZpbmlzaCIpIHsKICAgICAgICB0d2VlblRvQ29sb3Iobm9kZSwgdGhpcy5ncm91bmQuZ2VvbWV0cnksIFt0aGlzLmNvbG9ycy5maW5pc2hdKTsKICAgICAgfQogICAgICByZXR1cm4gbm9kZTsKICAgIH0sCiAgICBub2RlV2F0Y2hlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZygnV0FUQ0hFUicsIG5ld1ZhbCk7CiAgICAgIGlmICh0aGlzLnZpc3VhbGl6ZXJTdGF0ZSA9PSAicnVubmluZyIpIHJldHVybjsKICAgICAgdGhpcy51cGRhdGVOb2RlKG5ld1ZhbCwgdGhpcy5zdHJlYW1pbmcpOwogICAgfSwKICAgIHVwZGF0ZU5vZGUobm9kZSwgaW5zdGFudCA9IGZhbHNlKSB7CiAgICAgIGlmIChub2RlLnN0YXR1cyA9PSAid2FsbCIpIHsKICAgICAgICBsZXQgc2NhbGVZID0gMC41ICsgTWF0aC5yYW5kb20oKTsKICAgICAgICBpZiAoIWluc3RhbnQpIHsKICAgICAgICAgIHRoaXMuYWRkV2FsbChub2RlLCBzY2FsZVksIGluc3RhbnQgPyAwIDogMTAwMCk7CiAgICAgICAgfQogICAgICAgIHR3ZWVuVG9Db2xvcihub2RlLCB0aGlzLmdyb3VuZC5nZW9tZXRyeSwgW3RoaXMuY29sb3JzLndhbGxdKTsKICAgICAgfSBlbHNlIGlmIChub2RlLnN0YXR1cyA9PSAic3RhcnQiKSB7CiAgICAgICAgdHdlZW5Ub0NvbG9yKG5vZGUsIHRoaXMuZ3JvdW5kLmdlb21ldHJ5LCBbdGhpcy5jb2xvcnMuc3RhcnRdKTsKICAgICAgfSBlbHNlIGlmIChub2RlLnN0YXR1cyA9PSAiZmluaXNoIikgewogICAgICAgIHR3ZWVuVG9Db2xvcihub2RlLCB0aGlzLmdyb3VuZC5nZW9tZXRyeSwgW3RoaXMuY29sb3JzLmZpbmlzaF0pOwogICAgICB9IGVsc2UgaWYgKG5vZGUuc3RhdHVzID09ICJ2aXNpdGVkIikgewogICAgICAgIHR3ZWVuVG9Db2xvcihub2RlLCB0aGlzLmdyb3VuZC5nZW9tZXRyeSwgW3RoaXMuY29sb3JzLnZpc2l0ZWRdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy53YWxsc1tub2RlLmlkXSAhPSBudWxsICYmIHRoaXMud2FsbHNbbm9kZS5pZF0udmlzaWJsZSAmJiAhaW5zdGFudCkgewogICAgICAgICAgdGhpcy5oaWRlV2FsbCh0aGlzLndhbGxzW25vZGUuaWRdKTsKICAgICAgICB9CiAgICAgICAgdHdlZW5Ub0NvbG9yKG5vZGUsIHRoaXMuZ3JvdW5kLmdlb21ldHJ5LCBbdGhpcy5jb2xvcnMuZGVmYXVsdF0pOwogICAgICB9CiAgICB9LAogICAgYWRkV2FsbChub2RlLCBzY2FsZVksIGR1cmF0aW9uKSB7CiAgICAgIGlmICghIXRoaXMud2FsbHNbbm9kZS5pZF0pIHsKICAgICAgICBpZiAoIXRoaXMud2FsbHNbbm9kZS5pZF0udmlzaWJsZSkgewogICAgICAgICAgdGhpcy5zaG93V2FsbCh0aGlzLndhbGxzW25vZGUuaWRdLCBzY2FsZVksIGR1cmF0aW9uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBtYXRlcmlhbElkID0gMSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLndhbGxNYXRlcmlhbHMubGVuZ3RoIC0gMSkpOwogICAgICBsZXQgd2FsbCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMud2FsbEdlb210ZXJ5LCB0aGlzLndhbGxNYXRlcmlhbHNbbWF0ZXJpYWxJZF0pOwogICAgICB3YWxsLm5hbWUgPSAid2FsbCI7CiAgICAgIHdhbGwud2FsbElkID0gbm9kZS5pZDsKICAgICAgd2FsbC5zY2FsZS55ID0gc2NhbGVZOwogICAgICB3YWxsLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICB3YWxsLnJlY2VpdmVTaGFkb3cgPSB0cnVlOwogICAgICB0aGlzLnNjZW5lLmFkZCh3YWxsKTsKICAgICAgdGhpcy4kc2V0KHRoaXMud2FsbHMsIG5vZGUuaWQsIHdhbGwpOwogICAgICBsZXQgZ3JpZFdpZHRoID0gdGhpcy5jb2xzICogdGhpcy5ub2RlRGltZW5zaW9ucy53aWR0aDsKICAgICAgbGV0IGdyaWRIZWlnaHQgPSB0aGlzLnJvd3MgKiB0aGlzLm5vZGVEaW1lbnNpb25zLmhlaWdodDsKICAgICAgbGV0IGhlaWdodCA9IHRoaXMud2FsbEdlb210ZXJ5LnBhcmFtZXRlcnMuaGVpZ2h0ICogd2FsbC5zY2FsZS55OwogICAgICBsZXQgeCA9IC1ncmlkV2lkdGggLyAyICsgdGhpcy5ub2RlRGltZW5zaW9ucy53aWR0aCAvIDIgKyBub2RlLmNvbCAqIHRoaXMubm9kZURpbWVuc2lvbnMud2lkdGgsCiAgICAgICAgeSA9IGhlaWdodCAvIDIsCiAgICAgICAgeiA9IC1ncmlkSGVpZ2h0IC8gMiArIHRoaXMubm9kZURpbWVuc2lvbnMuaGVpZ2h0IC8gMiArIG5vZGUucm93ICogdGhpcy5ub2RlRGltZW5zaW9ucy5oZWlnaHQ7CiAgICAgIGlmIChkdXJhdGlvbiA9PSAwKSB7CiAgICAgICAgd2FsbC5wb3NpdGlvbi5zZXQoeCwgeSwgeik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2FsbC5wb3NpdGlvbi5zZXQoeCwgaGVpZ2h0LCB6KTsKICAgICAgICBuZXcgVFdFRU4uVHdlZW4od2FsbC5wb3NpdGlvbikudG8oewogICAgICAgICAgeDogeCwKICAgICAgICAgIHk6IHksCiAgICAgICAgICB6OiB6CiAgICAgICAgfSwgZHVyYXRpb24pLmVhc2luZyhUV0VFTi5FYXNpbmcuQm91bmNlLk91dCkuc3RhcnQoKTsKICAgICAgfQogICAgfSwKICAgIHNob3dXYWxsKHdhbGwsIHNjYWxlWSwgZHVyYXRpb24pIHsKICAgICAgd2FsbC5zY2FsZS55ID0gc2NhbGVZOwogICAgICBsZXQgaGVpZ2h0ID0gd2FsbC5nZW9tZXRyeS5wYXJhbWV0ZXJzLmhlaWdodCAqIHdhbGwuc2NhbGUueTsKICAgICAgd2FsbC52aXNpYmxlID0gdHJ1ZTsKICAgICAgaWYgKGR1cmF0aW9uID09IDApIHsKICAgICAgICB3YWxsLnBvc2l0aW9uLnNldFkoaGVpZ2h0IC8gMik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2FsbC5wb3NpdGlvbi5zZXRZKGhlaWdodCk7CiAgICAgICAgbmV3IFRXRUVOLlR3ZWVuKHdhbGwucG9zaXRpb24pLnRvKHsKICAgICAgICAgIHk6IGhlaWdodCAvIDIKICAgICAgICB9LCBkdXJhdGlvbikuZWFzaW5nKFRXRUVOLkVhc2luZy5Cb3VuY2UuT3V0KS5zdGFydCgpOwogICAgICB9CiAgICB9LAogICAgaGlkZVdhbGwod2FsbCkgewogICAgICB3YWxsLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBvbk1vdXNlRG93bihldmVudCkgewogICAgICB0aGlzLmRvd24gPSB0cnVlOwogICAgICB0aGlzLm1vdmVkID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVudEV2ZW50ID0gZXZlbnQ7CiAgICAgIHRoaXMuc2V0TW91c2VWZWN0b3IoZXZlbnQsICJtb3ZlIik7CiAgICAgIHRoaXMuY2xlYXJGb2N1cygpOwogICAgfSwKICAgIG9uTW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy5kb3duKSByZXR1cm47CiAgICAgIHRoaXMubW92ZWQgPSB0cnVlOwogICAgICBpZiAodGhpcy53b3JsZFNldHVwKSB7CiAgICAgICAgdGhpcy5zZXRNb3VzZVZlY3RvcihldmVudCwgIm1vdmUiKTsKICAgICAgfQogICAgfSwKICAgIG9uTW91c2VMZWF2ZSgpIHsKICAgICAgaWYgKHRoaXMubW92ZWQpIHsKICAgICAgICB0aGlzLm9uTW91c2V1cCgpOwogICAgICB9CiAgICAgIHRoaXMuZG93biA9IGZhbHNlOwogICAgfSwKICAgIG9uTW91c2V1cChldmVudCkgewogICAgICBsZXQgdGhyZXNob2xkID0gMjU7CiAgICAgIGlmICh0aGlzLm1vdmVkKSB7CiAgICAgICAgbGV0IGRpc3QgPSAwOwogICAgICAgIGlmICh0aGlzLmN1cnJlbnRFdmVudC50b3VjaGVzICYmIHRoaXMuY3VycmVudEV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgZGlzdCA9IHRoaXMuY2FsY0Rpc3QodGhpcy5jdXJyZW50RXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLCB0aGlzLmN1cnJlbnRFdmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpOwogICAgICAgICAgZGlzdCA+IHRocmVzaG9sZCA/IHRoaXMubW92ZUhhbmRsZXIoZXZlbnQpIDogdGhpcy5jbGlja0hhbmRsZXIoZXZlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm1vdmVIYW5kbGVyKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGlja0hhbmRsZXIoZXZlbnQpOwogICAgICB9CiAgICAgIHRoaXMuY3VycmVudEV2ZW50ID0gbnVsbDsKICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlOwogICAgICB0aGlzLmRvd24gPSBmYWxzZTsKICAgIH0sCiAgICBjYWxjRGlzdCh4LCB5KSB7CiAgICAgIHJldHVybiB4ICogeCArIHkgKiB5OwogICAgfSwKICAgIHNldE1vdXNlVmVjdG9yKGV2ZW50LCB0eXBlKSB7CiAgICAgIGxldCB0b3VjaEV2ZW50ID0gdHlwZSA9PSAiY2xpY2siID8gdGhpcy5jdXJyZW50RXZlbnQgOiBldmVudDsKICAgICAgaWYgKHRvdWNoRXZlbnQudG91Y2hlcyAmJiB0b3VjaEV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMubW91c2UueCA9IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKiAyIC0gMTsKICAgICAgICB0aGlzLm1vdXNlLnkgPSAtKHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDIgKyAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubW91c2UueCA9IGV2ZW50LmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIDIgLSAxOwogICAgICAgIHRoaXMubW91c2UueSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMTsKICAgICAgfQogICAgfSwKICAgIG1vdmVIYW5kbGVyKGV2ZW50KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJNb3ZlZCIpOwogICAgfSwKICAgIGNsaWNrSGFuZGxlcihldmVudCkgewogICAgICBpZiAodGhpcy53b3JsZFNldHVwIHx8IHRoaXMuY29udHJvbFR5cGUgPT0gIlBvaW50ZXJMb2NrIikgcmV0dXJuOwogICAgICB0aGlzLnNldE1vdXNlVmVjdG9yKGV2ZW50LCAiY2xpY2siKTsKICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSh0aGlzLm1vdXNlLCB0aGlzLmNhbWVyYSk7CiAgICAgIGxldCBpbnRlcnNlY3RzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLmNsaWNrYWJsZU9iamVjdHMpOyAvL2FycmF5CiAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHsKICAgICAgICBsZXQgY29vcmRzOwogICAgICAgIGlmIChpbnRlcnNlY3RzWzBdLm9iamVjdC5uYW1lID09ICJ3YWxsIikgewogICAgICAgICAgY29vcmRzID0gdGhpcy5mYWNlSW5kZXhUb0Nvb3JkaW5hdGVzKGludGVyc2VjdHNbMF0ub2JqZWN0LndhbGxJZCAqIDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZmFjZUluZGV4ID0gaW50ZXJzZWN0c1swXS5mYWNlSW5kZXg7CiAgICAgICAgICBjb25zb2xlLmxvZyhmYWNlSW5kZXgpOwogICAgICAgICAgY29vcmRzID0gdGhpcy5mYWNlSW5kZXhUb0Nvb3JkaW5hdGVzKGZhY2VJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoImNsaWNrRXZlbnQiLCB0aGlzLmdyaWRbY29vcmRzLnJvd11bY29vcmRzLmNvbF0pOwogICAgICB9CiAgICB9LAogICAgZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKSB7CiAgICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDsKICAgIH0sCiAgICBmYWNlSW5kZXhUb0Nvb3JkaW5hdGVzKGZhY2VJbmRleCkgewogICAgICAvLyBBcyBlYWNoIG5vZGUgaGFzIDIgZmFjZXMKICAgICAgcmV0dXJuIHsKICAgICAgICByb3c6IE1hdGguZmxvb3IoZmFjZUluZGV4IC8gMiAvIHRoaXMucm93cyksCiAgICAgICAgY29sOiBNYXRoLmZsb29yKGZhY2VJbmRleCAvIDIgJSB0aGlzLmNvbHMpCiAgICAgIH07CiAgICB9LAogICAgY2xlYXJGb2N1cygpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaGVhZGVyIilbMF0uY2xpY2soKTsKICAgIH0sCiAgICBvbktleURvd24oZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuY29udHJvbFR5cGUgPT0gIk9yYml0IikgewogICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkgewogICAgICAgICAgLy8gY2FzZSA3MjogIC8vIGgKICAgICAgICAgIC8vIAl0aGlzLmhlbWlzcGhlcmVMaWdodC52aXNpYmxlID0gIXRoaXMuaGVtaXNwaGVyZUxpZ2h0LnZpc2libGU7CiAgICAgICAgICAvLyAJYnJlYWs7CiAgICAgICAgICAvLyBjYXNlIDY4OiAvLyBkCiAgICAgICAgICAvLyAJdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnZpc2libGUgPSAhdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnZpc2libGU7CiAgICAgICAgICAvLyAJYnJlYWs7CiAgICAgICAgICBjYXNlIDg3OgogICAgICAgICAgICAvLyB3CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N3aXRjaFdvcmxkU2V0dXAnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDgwOgogICAgICAgICAgICAvLyBwCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N3aXRjaENvbnRyb2xUeXBlJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHsKICAgICAgICAgIGNhc2UgMzg6IC8vIHVwCiAgICAgICAgICBjYXNlIDg3OgogICAgICAgICAgICAvLyB3CiAgICAgICAgICAgIHRoaXMucG9pbnRlckxvY2subW92ZUZvcndhcmQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMzc6IC8vIGxlZnQKICAgICAgICAgIGNhc2UgNjU6CiAgICAgICAgICAgIC8vIGEKICAgICAgICAgICAgdGhpcy5wb2ludGVyTG9jay5tb3ZlTGVmdCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA0MDogLy8gZG93bgogICAgICAgICAgY2FzZSA4MzoKICAgICAgICAgICAgLy8gcwogICAgICAgICAgICB0aGlzLnBvaW50ZXJMb2NrLm1vdmVCYWNrd2FyZCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAzOTogLy8gcmlnaHQKICAgICAgICAgIGNhc2UgNjg6CiAgICAgICAgICAgIC8vIGQKICAgICAgICAgICAgdGhpcy5wb2ludGVyTG9jay5tb3ZlUmlnaHQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgIC8vIHNwYWNlCiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJMb2NrLmNhbkp1bXAgPT09IHRydWUpIHRoaXMucG9pbnRlckxvY2sudmVsb2NpdHkueSArPSAyMDA7CiAgICAgICAgICAgIHRoaXMucG9pbnRlckxvY2suY2FuSnVtcCA9IGZhbHNlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgODA6CiAgICAgICAgICAgIC8vIFAKICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzLmlzTG9ja2VkKSB7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3dpdGNoQ29udHJvbFR5cGUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvbktleVVwKGV2ZW50KSB7CiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkgewogICAgICAgIGNhc2UgMzg6IC8vIHVwCiAgICAgICAgY2FzZSA4NzoKICAgICAgICAgIC8vIHcKICAgICAgICAgIHRoaXMucG9pbnRlckxvY2subW92ZUZvcndhcmQgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzc6IC8vIGxlZnQKICAgICAgICBjYXNlIDY1OgogICAgICAgICAgLy8gYQogICAgICAgICAgdGhpcy5wb2ludGVyTG9jay5tb3ZlTGVmdCA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0MDogLy8gZG93bgogICAgICAgIGNhc2UgODM6CiAgICAgICAgICAvLyBzCiAgICAgICAgICB0aGlzLnBvaW50ZXJMb2NrLm1vdmVCYWNrd2FyZCA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAzOTogLy8gcmlnaHQKICAgICAgICBjYXNlIDY4OgogICAgICAgICAgLy8gZAogICAgICAgICAgdGhpcy5wb2ludGVyTG9jay5tb3ZlUmlnaHQgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["THREE","OrbitControls","PointerLockControls","TWEEN","removeAll","Stats","getAllNodes","tweenToColor","props","data","scene","camera","cameraY","defaultCameraY","renderer","pointerLock","moveForward","moveBackward","moveLeft","moveRight","velocity","direction","prevTime","controls","orbitControls","pointerLockControls","raycaster","ambientLight","hemisphereLight","directionalLight","ground","wallGeomtery","wallMaterials","walls","wallTextures","path","repeatY","down","moved","currentEvent","mouse","intersectedNode","clock","stats","videoCanvas","video","computed","clickableObjects","objects","push","id","Object","keys","visible","collidableObjects","watch","controlType","newVal","oldVal","setControls","worldSetup","Tween","position","to","x","y","z","easing","Easing","Exponential","Out","onUpdate","lookAt","onComplete","enableRotate","lookDirection","Vector3","getWorldDirection","target","copy","add","multiplyScalar","start","rotation","update","streaming","i","rows","j","cols","updateNode","grid","created","mounted","init","document","querySelector","methods","width","window","innerWidth","height","innerHeight","Scene","background","Color","fog","Fog","PerspectiveCamera","WebGLRenderer","antialias","setSize","shadowMap","enabled","getElementById","appendChild","domElement","addControls","Raycaster","gridWidth","nodeDimensions","gridHeight","vm","groundGeometry","PlaneGeometry","rotateX","Math","PI","loader","TextureLoader","load","require","texture","wrapS","RepeatWrapping","wrapT","repeat","groundMaterial","MeshLambertMaterial","map","side","FrontSide","vertexColors","FaceColors","Mesh","receiveShadow","initGrid","$emit","undefined","error","console","log","fakeGroundGeometry","fakeGroundMaterial","color","fakeGround","size","divisions","gridHelper","GridHelper","wallHeight","BoxBufferGeometry","wallTextureObject","floor","random","length","MeshPhongMaterial","colors","wall","r","g","b","tex","AmbientLight","HemisphereLight","setHSL","groundColor","setHex","set","DirectionalLight","castShadow","shadow","mapSize","d","left","right","top","bottom","far","vertexShader","textContent","fragmentShader","uniforms","topColor","value","bottomColor","offset","exponent","skyGeo","SphereBufferGeometry","skyMat","ShaderMaterial","BackSide","sky","dom","style","addEventListener","resizeHandler","onMouseDown","onMouseMove","onMouseup","onMouseLeave","Vector2","renderLoop","requestAnimationFrame","delta","getDelta","animatePlayer","hoverObjectLoop","deviceCamLoop","render","setFromCamera","intersects","intersectObjects","coords","object","name","faceIndexToCoordinates","wallId","faceIndex","row","col","ends","includes","status","end","obj","selectedAlgorithm","type","playerSpeed","detectPlayerCollision","Number","normalize","detectOnObject","max","canJump","getObject","rotationMatrix","cameraDirection","getDirection","clone","collisionDistance","Matrix4","makeRotationY","degreesToRadians","applyMatrix4","rayCaster","rayIntersect","videoCtx","getContext","drawImage","pixels","getImageData","index","brightness","gridX","finish","thresholdValue","ray","distance","Clock","onKeyDown","onKeyUp","fromInit","near","updateProjectionMatrix","setTimeout","resetCamera","startPosition","geometry","vertices","faces","event","aspect","currentRow","node","createNode","$watch","nodeWatcher","deep","Infinity","totalDistance","heuristicDistance","weight","previousNode","visualizerState","instant","scaleY","addWall","visited","hideWall","default","duration","showWall","materialId","scale","$set","parameters","Bounce","setY","setMouseVector","clearFocus","threshold","dist","touches","calcDist","pageX","changedTouches","pageY","moveHandler","clickHandler","touchEvent","clientX","clientY","degrees","getElementsByClassName","click","keyCode","isLocked"],"sources":["src/components/VisualizerCanvas.vue"],"sourcesContent":["<template>\n\t<div id=\"visualizer\" @click=\"controlType == 'PointerLock' ? controls.lock() : clearFocus\">\n\t\t<script type=\"x-shader/x-vertex\" id=\"vertexShader\">\n\t\t\tvarying vec3 vWorldPosition;\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\t\t\t\tvWorldPosition = worldPosition.xyz;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n\t\t</script>\n\t\t<script type=\"x-shader/x-fragment\" id=\"fragmentShader\">\n\t\t\tuniform vec3 topColor;\n\t\t\tuniform vec3 bottomColor;\n\t\t\tuniform float offset;\n\t\t\tuniform float exponent;\n\n\t\t\tvarying vec3 vWorldPosition;\n\n\t\t\tvoid main() {\n\t\t\t\tfloat h = normalize( vWorldPosition + offset ).y;\n\t\t\t\tgl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );\n\t\t\t}\n\t\t</script>\n\t</div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { PointerLockControls } from \"three/examples/jsm/controls/PointerLockControls.js\";\nimport TWEEN, { removeAll } from \"@tweenjs/tween.js\";\nimport Stats from \"three/examples/jsm/libs/stats.module.js\";\n\nimport { getAllNodes, tweenToColor } from \"./algorithms/helpers.js\";\n\nexport default {\n\tprops: [\n\t\t\"nodeDimensions\",\n\t\t\"grid\",\n\t\t\"rows\",\n\t\t\"cols\",\n\t\t\"start\",\n\t\t\"finish\",\n\t\t\"visualizerState\",\n\t\t\"colors\",\n\t\t\"controlType\",\n\t\t\"worldSetup\",\n\t\t\"selectedAlgorithm\",\n\t\t\"streaming\",\n\t\t\"thresholdValue\"\n\t],\n\tdata: () => ({\n\t\tscene: null,\n\t\tcamera: null,\n\t\tcameraY: 0,\n\t\tdefaultCameraY: 250,\n\t\trenderer: null,\n\t\tpointerLock: {\n\t\t\tmoveForward: false,\n\t\t\tmoveBackward: false,\n\t\t\tmoveLeft: false,\n\t\t\tmoveRight: false,\n\t\t\tvelocity: null,\n\t\t\tdirection: null,\n\t\t\tprevTime: null,\n\t\t},\n\t\tcontrols: null,\n\t\torbitControls: null,\n\t\tpointerLockControls: null,\n\t\traycaster: null,\n\t\tambientLight: null,\n\t\themisphereLight: null,\n\t\tdirectionalLight: null,\n\t\tground: null,\n\t\twallGeomtery: null,\n\t\twallMaterials: [],\n\t\twalls: {},\n\t\twallTextures: [\n\t\t\t{\n\t\t\t\tpath: \"building1.png\",\n\t\t\t\trepeatY: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"building2.png\",\n\t\t\t\trepeatY: 2,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: \"building3.png\",\n\t\t\t\trepeatY: 3,\n\t\t\t},\n\t\t],\n\t\tdown: false,\n\t\tmoved: false,\n\t\tcurrentEvent: null,\n\t\tmouse: null,\n\t\tintersectedNode: null,\n\t\tclock: null,\n\t\tstats: null,\n\t\t// Device cam\n\t\tvideoCanvas: null,\n\t\tvideo: null\n\t}),\n\tcomputed: {\n\t\tclickableObjects() {\n\t\t\tlet objects = [];\n\t\t\tobjects.push(this.ground);\n\t\t\tfor (let id of Object.keys(this.walls)) {\n\t\t\t\tif (this.walls[id].visible) {\n\t\t\t\t\tobjects.push(this.walls[id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn objects;\n\t\t},\n\t\tcollidableObjects() {\n\t\t\tlet objects = [];\n\t\t\tfor (let id of Object.keys(this.walls)) {\n\t\t\t\tif (this.walls[id].visible) {\n\t\t\t\t\tobjects.push(this.walls[id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn objects;\n\t\t}\n\t},\n\twatch: {\n\t\tcontrolType: function(newVal, oldVal) {\n\t\t\tthis.setControls();\n\t\t},\n\t\tworldSetup: function(newVal, oldVal) {\n\t\t\tif (newVal) {\n\t\t\t\tTWEEN.removeAll();\n\t\t\t\tnew TWEEN.Tween(this.camera.position)\n\t\t\t\t\t.to({ x: 0, y: this.cameraY - 30, z: 0 }, 500)\n\t\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t\t.onUpdate(() => {\n\t\t\t\t\t\tthis.camera.lookAt(this.scene.position);\n\t\t\t\t\t})\n\t\t\t\t\t.onComplete(() => {\n\t\t\t\t\t\tthis.controls.enableRotate = false;\n\t\t\t\t\t\tlet lookDirection = new THREE.Vector3();\n\t\t\t\t\t\tthis.camera.getWorldDirection(lookDirection);\n\t\t\t\t\t\tthis.controls.target\n\t\t\t\t\t\t\t.copy(this.camera.position)\n\t\t\t\t\t\t\t.add(lookDirection.multiplyScalar(this.cameraY - 30));\n\t\t\t\t\t})\n\t\t\t\t\t.start();\n\t\t\t\tnew TWEEN.Tween(this.camera.rotation)\n\t\t\t\t\t.to({ y: 0, z: 0 }, 500)\n\t\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t\t.start();\n\t\t\t} else {\n\t\t\t\tnew TWEEN.Tween(this.camera.position)\n\t\t\t\t\t.to({ y: this.cameraY }, 500)\n\t\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t\t.onComplete(() => {\n\t\t\t\t\t\tthis.controls.enableRotate = true;\n\t\t\t\t\t\tthis.controls.update();\n\t\t\t\t\t})\n\t\t\t\t\t.start();\n\t\t\t}\n\t\t},\n\t\tstreaming: function(newVal, oldVal) {\n\t\t\tif(!newVal) {\n\t\t\t\tfor(let i=0; i<this.rows; i++) {\n\t\t\t\t\tfor(let j=0; j<this.cols; j++) {\n\t\t\t\t\t\tthis.updateNode(this.grid[i][j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.cameraY = this.defaultCameraY;\n\t},\n\tmounted() {\n\t\tthis.init();\n\t\t\n\t\tthis.videoCanvas = document.querySelector('#video-canvas');\n\t\tthis.video = document.querySelector('video');\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tlet width = window.innerWidth,\n\t\t\t\theight = window.innerHeight;\n\n\t\t\t//Scene\n\t\t\tthis.scene = new THREE.Scene();\n\t\t\tthis.scene.background = new THREE.Color(0xbbd6ff);\n\t\t\tthis.scene.fog = new THREE.Fog(0xffffff, 0, 750);\n\n\t\t\t//Camera\n\t\t\tthis.camera = new THREE.PerspectiveCamera(60, width / height, 1, 5000);\n\t\t\tthis.camera.position.y = this.cameraY + 2000;\n\t\t\tthis.camera.position.x = -500;\n\t\t\tthis.camera.position.z = 500;\n\t\t\t// var helper = new THREE.CameraHelper(this.camera);\n\t\t\t// this.scene.add(helper);\n\n\t\t\t//Renderer\n\t\t\tthis.renderer = new THREE.WebGLRenderer({ antialias: true });\n\t\t\tthis.renderer.setSize(width, height);\n\t\t\tthis.renderer.shadowMap.enabled = true;\n\t\t\t// this.renderer.shadowMap.type = THREE.BasicShadowMap;\n\t\t\tdocument.getElementById(\"visualizer\").appendChild(this.renderer.domElement);\n\n\t\t\t// Controls\n\t\t\tthis.addControls();\n\t\t\tthis.setControls(true);\n\n\t\t\t// Raycaster\n\t\t\tthis.raycaster = new THREE.Raycaster();\n\n\t\t\t// Ground\n\t\t\tlet gridWidth = this.cols * this.nodeDimensions.width,\n\t\t\t\tgridHeight = this.rows * this.nodeDimensions.height;\n\t\t\tlet vm = this;\n\t\t\tlet groundGeometry = new THREE.PlaneGeometry(gridWidth, gridHeight, this.cols, this.rows);\n\t\t\tgroundGeometry.rotateX(-Math.PI / 2);\n\t\t\tlet loader = new THREE.TextureLoader();\n\t\t\tloader.load(\n\t\t\t\trequire(\"@/assets/textures/ground.png\"),\n\t\t\t\tfunction(texture) {\n\t\t\t\t\ttexture.wrapS = THREE.RepeatWrapping;\n\t\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;\n\t\t\t\t\ttexture.repeat.x = vm.rows;\n\t\t\t\t\ttexture.repeat.y = vm.cols;\n\t\t\t\t\tvar groundMaterial = new THREE.MeshLambertMaterial({\n\t\t\t\t\t\tmap: texture,\n\t\t\t\t\t\tside: THREE.FrontSide,\n\t\t\t\t\t\tvertexColors: THREE.FaceColors,\n\t\t\t\t\t});\n\t\t\t\t\tvm.ground = new THREE.Mesh(groundGeometry, groundMaterial);\n\t\t\t\t\tvm.ground.receiveShadow = true;\n\t\t\t\t\tvm.ground.position.y = 0.02;\n\t\t\t\t\tvm.scene.add(vm.ground);\n\t\t\t\t\tvm.initGrid();\n\t\t\t\t\tvm.$emit(\"groundInitialized\", vm.ground);\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\tfunction(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t);\n\t\t\tlet fakeGroundGeometry = new THREE.PlaneGeometry(1000, 1000, this.cols, this.rows);\n\t\t\tfakeGroundGeometry.rotateX(-Math.PI / 2);\n\t\t\tvar fakeGroundMaterial = new THREE.MeshLambertMaterial({\n\t\t\t\t// color: 0x87775d,\n\t\t\t\tcolor: 0xBBC2D0,\n\t\t\t\tside: THREE.FrontSide,\n\t\t\t});\n\t\t\tlet fakeGround = new THREE.Mesh(fakeGroundGeometry, fakeGroundMaterial);\n\t\t\tthis.scene.add(fakeGround);\n\n\t\t\t//Grid helper\n\t\t\tvar size = this.cols * this.nodeDimensions.height;\n\t\t\tvar divisions = this.cols;\n\t\t\tvar gridHelper = new THREE.GridHelper(size, divisions, 0x5c78bd, 0x5c78bd);\n\t\t\tgridHelper.position.y = 0.035;\n\t\t\tthis.scene.add(gridHelper);\n\n\t\t\t// Wall\n\t\t\t// let wallHeight = this.nodeDimensions.width * 2 + Math.random() * this.nodeDimensions.width * 3;\n\t\t\tlet wallHeight = this.nodeDimensions.height * 2;\n\t\t\tthis.wallGeomtery = new THREE.BoxBufferGeometry(\n\t\t\t\tthis.nodeDimensions.width,\n\t\t\t\twallHeight,\n\t\t\t\tthis.nodeDimensions.height\n\t\t\t);\n\t\t\tlet wallTextureObject = this.wallTextures[\n\t\t\t\tMath.floor(Math.random() * this.wallTextures.length)\n\t\t\t];\n\t\t\tthis.wallMaterials.push(\n\t\t\t\tnew THREE.MeshPhongMaterial({\n\t\t\t\t\tcolor: new THREE.Color(this.colors.wall.r, this.colors.wall.g, this.colors.wall.b),\n\t\t\t\t})\n\t\t\t);\n\t\t\tfor (let tex of this.wallTextures) {\n\t\t\t\tloader.load(\n\t\t\t\t\trequire(\"@/assets/textures/\" + tex.path),\n\t\t\t\t\tfunction(texture) {\n\t\t\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;\n\t\t\t\t\t\ttexture.repeat.y = tex.repeatY;\n\t\t\t\t\t\tvm.wallMaterials.push(new THREE.MeshLambertMaterial({ map: texture }));\n\t\t\t\t\t},\n\t\t\t\t\tundefined,\n\t\t\t\t\tfunction(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Ambient Light\n\t\t\tthis.ambientLight = new THREE.AmbientLight(0xffffff, 1);\n\t\t\tthis.scene.add(this.ambientLight);\n\n\t\t\t// LIGHTS\n\t\t\tthis.hemisphereLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.1);\n\t\t\tthis.hemisphereLight.color.setHSL(0.6, 1, 0.6);\n\t\t\tthis.hemisphereLight.groundColor.setHex(0x87775d);\n\t\t\tthis.hemisphereLight.position.set(0, 5, 0);\n\t\t\tthis.scene.add(this.hemisphereLight);\n\n\t\t\t// let hemiLightHelper = new THREE.HemisphereLightHelper(this.hemisphereLight, 10);\n\t\t\t// this.scene.add(hemiLightHelper);\n\n\t\t\tthis.directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n\t\t\tthis.directionalLight.color.setHSL(0.1, 1, 0.95);\n\t\t\tthis.directionalLight.position.set(-1, 1.75, 1);\n\t\t\tthis.directionalLight.position.multiplyScalar(70);\n\t\t\tthis.scene.add(this.directionalLight);\n\n\t\t\tthis.directionalLight.castShadow = true;\n\t\t\tthis.directionalLight.shadow.mapSize.width = 2048;\n\t\t\tthis.directionalLight.shadow.mapSize.height = 2048;\n\n\t\t\tvar d = 200;\n\t\t\tthis.directionalLight.shadow.camera.left = -d;\n\t\t\tthis.directionalLight.shadow.camera.right = d;\n\t\t\tthis.directionalLight.shadow.camera.top = d;\n\t\t\tthis.directionalLight.shadow.camera.bottom = -d;\n\t\t\tthis.directionalLight.shadow.camera.far = 350;\n\n\t\t\t// SKYDOME\n\t\t\tvar vertexShader = document.getElementById(\"vertexShader\").textContent;\n\t\t\tvar fragmentShader = document.getElementById(\"fragmentShader\").textContent;\n\t\t\tvar uniforms = {\n\t\t\t\ttopColor: { value: new THREE.Color(0x0077ff) },\n\t\t\t\tbottomColor: { value: new THREE.Color(0xffffff) },\n\t\t\t\toffset: { value: 33 },\n\t\t\t\texponent: { value: 0.6 },\n\t\t\t};\n\t\t\tuniforms[\"topColor\"].value.copy(this.hemisphereLight.color);\n\n\t\t\tthis.scene.fog.color.copy(uniforms[\"bottomColor\"].value);\n\t\t\tvar skyGeo = new THREE.SphereBufferGeometry(1000, 32, 15);\n\t\t\tvar skyMat = new THREE.ShaderMaterial({\n\t\t\t\tuniforms: uniforms,\n\t\t\t\tvertexShader: vertexShader,\n\t\t\t\tfragmentShader: fragmentShader,\n\t\t\t\tside: THREE.BackSide,\n\t\t\t});\n\t\t\tvar sky = new THREE.Mesh(skyGeo, skyMat);\n\t\t\tthis.scene.add(sky);\n\n\t\t\t// Stats\n\t\t\tthis.stats = new Stats();\n\t\t\tthis.stats.dom.style.top = \"auto\";\n\t\t\tthis.stats.dom.style.bottom = '5px';\n\t\t\tthis.stats.dom.style.left = '3px';\n\t\t\tdocument.getElementById(\"visualizer\").appendChild(this.stats.dom);\n\n\t\t\t//Resize handler\n\t\t\twindow.addEventListener(\"resize\", this.resizeHandler);\n\t\t\tthis.renderer.domElement.addEventListener(\"mousedown\", this.onMouseDown, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"touchstart\", this.onMouseDown, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"mousemove\", this.onMouseMove, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"touchmove\", this.onMouseMove, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"mouseup\", this.onMouseup, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"mouseleave\", this.onMouseLeave, true);\n\t\t\tthis.renderer.domElement.addEventListener(\"touchend\", this.onMouseup, true);\n\n\t\t\t// Setting hover handler\n\t\t\tthis.mouse = new THREE.Vector2();\n\n\t\t\tthis.renderLoop();\n\t\t},\n\n\t\trenderLoop() {\n\t\t\trequestAnimationFrame(this.renderLoop);\n\t\t\tif (this.controlType == \"PointerLock\") {\n\t\t\t\tvar delta = this.clock.getDelta();\n\t\t\t\tthis.animatePlayer(delta);\n\t\t\t}\n\t\t\tif (this.worldSetup) {\n\t\t\t\tthis.hoverObjectLoop();\n\t\t\t\tif(this.streaming) {\n\t\t\t\t\tthis.deviceCamLoop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.renderer.render(this.scene, this.camera);\n\t\t\tTWEEN.update();\n\t\t\tthis.stats.update();\n\t\t},\n\n\t\thoverObjectLoop() {\n\t\t\tif (!this.down) {\n\t\t\t\tthis.intersectedNode = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.raycaster.setFromCamera(this.mouse, this.camera);\n\t\t\tvar intersects = this.raycaster.intersectObjects(this.clickableObjects);\n\t\t\tif (intersects.length > 0) {\n\t\t\t\tlet coords;\n\t\t\t\tif (intersects[0].object.name == \"wall\") {\n\t\t\t\t\tcoords = this.faceIndexToCoordinates(intersects[0].object.wallId * 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar faceIndex = intersects[0].faceIndex;\n\t\t\t\t\tcoords = this.faceIndexToCoordinates(faceIndex);\n\t\t\t\t}\n\n\t\t\t\tif (this.grid[coords.row][coords.col] != this.intersectedNode) {\n\t\t\t\t\tlet ends = [\"start\", \"finish\"];\n\t\t\t\t\tif (\n\t\t\t\t\t\tends.includes(this.grid[coords.row][coords.col].status) ||\n\t\t\t\t\t\t(this.intersectedNode && ends.includes(this.intersectedNode.status))\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet end;\n\t\t\t\t\t\tif (ends.includes(this.grid[coords.row][coords.col].status)) {\n\t\t\t\t\t\t\tend = this.grid[coords.row][coords.col].status;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tend = this.intersectedNode.status;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet obj = {};\n\t\t\t\t\t\tobj[end] = {\n\t\t\t\t\t\t\trow: coords.row,\n\t\t\t\t\t\t\tcol: coords.col,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (this.intersectedNode && ends.includes(this.intersectedNode.status)) {\n\t\t\t\t\t\t\tthis.intersectedNode.status = \"default\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.grid[coords.row][coords.col].status = end;\n\t\t\t\t\t\tthis.$emit(\"updateEnds\", obj);\n\t\t\t\t\t} else if (this.selectedAlgorithm.type != 'unweighted' && (!this.intersectedNode || !ends.includes(this.intersectedNode.status))) {\n\t\t\t\t\t\tthis.grid[coords.row][coords.col].status =\n\t\t\t\t\t\t\tthis.grid[coords.row][coords.col].status == \"wall\" ? \"default\" : \"wall\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.intersectedNode = this.grid[coords.row][coords.col];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tanimatePlayer(delta) {\n\t\t\tlet playerSpeed = 300;\n\t\t\t// Gradual slowdown\n\t\t\tthis.pointerLock.velocity.x -= this.pointerLock.velocity.x * 10.0 * delta;\n\t\t\tthis.pointerLock.velocity.z -= this.pointerLock.velocity.z * 10.0 * delta;\n\n\t\t\tif (this.detectPlayerCollision() == false) {\n\t\t\t\tthis.pointerLock.direction.z =\n\t\t\t\t\tNumber(this.pointerLock.moveForward) - Number(this.pointerLock.moveBackward);\n\t\t\t\tthis.pointerLock.direction.x =\n\t\t\t\t\tNumber(this.pointerLock.moveRight) - Number(this.pointerLock.moveLeft);\n\t\t\t\tthis.pointerLock.direction.normalize(); // this ensures consistent movements in all directions\n\t\n\t\t\t\tif (this.pointerLock.moveForward || this.pointerLock.moveBackward)\n\t\t\t\t\tthis.pointerLock.velocity.z -= this.pointerLock.direction.z * playerSpeed * delta;\n\t\t\t\tif (this.pointerLock.moveLeft || this.pointerLock.moveRight)\n\t\t\t\t\tthis.pointerLock.velocity.x -= this.pointerLock.direction.x * playerSpeed * delta;\n\t\n\t\t\t\tthis.controls.moveRight(-this.pointerLock.velocity.x * delta);\n\t\t\t\tthis.controls.moveForward(-this.pointerLock.velocity.z * delta);\n\t\t\t} else {\n\t\t\t\tthis.pointerLock.velocity.x = 0;\n\t\t\t\tthis.pointerLock.velocity.z = 0;\n\t\t\t}\n\n\t\t\tthis.pointerLock.velocity.y -= 9.8 * 50.0 * delta; // 50.0 = mass\n\t\t\tif(this.detectOnObject()) {\n\t\t\t\tthis.pointerLock.velocity.y = Math.max(0, this.pointerLock.velocity.y);\n\t\t\t\tthis.pointerLock.canJump = true;\n\t\t\t}\n\t\t\tthis.controls.getObject().position.y += this.pointerLock.velocity.y * delta;\n\n\t\t\tif (this.controls.getObject().position.y < this.cameraY) {\n\t\t\t\tthis.pointerLock.velocity.y = 0;\n\t\t\t\tthis.controls.getObject().position.y = this.cameraY;\n\t\t\t\tthis.pointerLock.canJump = true;\n\t\t\t}\n\t\t},\n\n\t\tdetectPlayerCollision() {\n\t\t\tlet rotationMatrix;\n\t\t\t// Get direction of camera\n\t\t\tlet cameraDirection = this.controls.getDirection(new THREE.Vector3(0, 0, 0)).clone();\n\t\t\tlet collisionDistance = 1;\n\n\t\t\t// Check which direction we're moving (not looking)\n\t\t\t// Flip matrix to that direction so that we can reposition the ray\n\t\t\tif (this.pointerLock.moveBackward) {\n\t\t\t\trotationMatrix = new THREE.Matrix4();\n\t\t\t\trotationMatrix.makeRotationY(this.degreesToRadians(180));\n\t\t\t} else if (this.pointerLock.moveLeft) {\n\t\t\t\trotationMatrix = new THREE.Matrix4();\n\t\t\t\trotationMatrix.makeRotationY(this.degreesToRadians(90));\n\t\t\t} else if (this.pointerLock.moveRight) {\n\t\t\t\trotationMatrix = new THREE.Matrix4();\n\t\t\t\trotationMatrix.makeRotationY(this.degreesToRadians(270));\n\t\t\t}\n\n\t\t\t// Player is not moving forward, apply rotation matrix needed\n\t\t\tif (rotationMatrix !== undefined) {\n\t\t\t\tcameraDirection.applyMatrix4(rotationMatrix);\n\t\t\t}\n\n\t\t\t// Apply ray to player camera\n\t\t\tlet rayCaster = new THREE.Raycaster(this.controls.getObject().position, cameraDirection);\n\n\t\t\t// If our ray hit a collidable object, return true\n\t\t\tif (this.rayIntersect(rayCaster, collisionDistance)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tdetectOnObject() {\n\t\t\tlet collisionDistance = this.cameraY+1;\n\t\t\tlet rayCaster = new THREE.Raycaster(this.controls.getObject().position, new THREE.Vector3(0, -1, 0));\n\t\t\t// rayCaster.ray.origin.y -= this.cameraY;\n\t\t\tif (this.rayIntersect(rayCaster, collisionDistance)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tdeviceCamLoop() {\n\t\t\tlet videoCtx = this.videoCanvas.getContext(\"2d\");\n\n\t\t\tvideoCtx.drawImage(this.video, 0, 0, this.videoCanvas.width, this.videoCanvas.height);\n\t\t\tlet pixels = videoCtx.getImageData(0, 0, this.videoCanvas.width, this.videoCanvas.height);\n\t\t\tfor(let y=0; y<this.videoCanvas.height; y++) {\n\t\t\t\tfor(let x=0; x<this.videoCanvas.width; x++) {\n\t\t\t\t\tlet index = (x + y * this.videoCanvas.width) * 4;\n\t\t\t\t\tlet r = pixels.data[index+0];\n\t\t\t\t\tlet g = pixels.data[index+1];\n\t\t\t\t\tlet b = pixels.data[index+2];\n\t\t\t\t\t\n\t\t\t\t\tlet brightness = Math.floor((r+g+b)/3);\n\t\t\t\t\tlet gridX = Math.floor(this.videoCanvas.width-1-x);\n\t\t\t\t\tlet status = \"default\";\n\t\t\t\t\tif (y == this.start.row && gridX == this.start.col) {\n\t\t\t\t\t\tstatus = \"start\";\n\t\t\t\t\t} else if (y == this.finish.row && gridX == this.finish.col) {\n\t\t\t\t\t\tstatus = \"finish\";\n\t\t\t\t\t}\n\t\t\t\t\tif(brightness > this.thresholdValue) {\n\t\t\t\t\t\tthis.grid[y][gridX].status = status;\n\t\t\t\t\t} else if(status != 'start' && status != 'finish') {\n\t\t\t\t\t\tthis.grid[y][gridX].status = 'wall';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\trayIntersect(ray, distance) {\n\t\t\tvar intersects = ray.intersectObjects(this.collidableObjects);\n\t\t\tfor (var i = 0; i < intersects.length; i++) {\n\t\t\t\t// Check if there's a collision\n\t\t\t\tif (intersects[i].distance < distance) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\taddControls() {\n\t\t\tthis.orbitControls = new OrbitControls(this.camera, this.renderer.domElement);\n\t\t\tthis.pointerLockControls = new PointerLockControls(this.camera, this.renderer.domElement);\n\t\t\tthis.pointerLockControls.addEventListener(\"lock\", function() {\n\t\t\t\tconsole.log(\"Pointer Locked\");\n\t\t\t});\n\t\t\tthis.pointerLockControls.addEventListener(\"unlock\", function() {\n\t\t\t\tconsole.log(\"Pointer Unlocked\");\n\t\t\t});\n\t\t\t// Clock\n\t\t\tthis.clock = new THREE.Clock();\n\t\t\tdocument.addEventListener(\"keydown\", this.onKeyDown, false);\n\t\t\tdocument.addEventListener(\"keyup\", this.onKeyUp, false);\n\t\t\tthis.pointerLock.velocity = new THREE.Vector3();\n\t\t\tthis.pointerLock.direction = new THREE.Vector3();\n\t\t\tthis.scene.add(this.pointerLockControls.getObject());\n\t\t},\n\n\t\tsetControls(fromInit = false) {\n\t\t\tlet vm = this;\n\t\t\tTWEEN.removeAll();\n\t\t\tif (this.controlType == \"Orbit\") {\n\t\t\t\t// OrbitControls\n\t\t\t\tthis.cameraY = this.defaultCameraY;\n\t\t\t\tthis.camera.near = 1;\n\t\t\t\tthis.camera.updateProjectionMatrix();\n\t\t\t\tthis.controls = this.orbitControls;\n\t\t\t\tthis.controls.enabled = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tvm.resetCamera();\n\t\t\t\t}, fromInit ? 800 : 0);\n\t\t\t} else if (this.controlType == \"PointerLock\") {\n\t\t\t\t// PointerLock controls\n\t\t\t\tthis.cameraY = 3;\n\t\t\t\tthis.camera.near = 0.05;\n\t\t\t\tthis.camera.updateProjectionMatrix();\n\t\t\t\tthis.controls.enabled = false;\n\t\t\t\tthis.controls = this.pointerLockControls;\n\t\t\t\tlet startPosition = this.ground.geometry.vertices[\n\t\t\t\t\tthis.grid[this.start.row][this.start.col].faces[1][\"a\"]\n\t\t\t\t];\n\t\t\t\tnew TWEEN.Tween(this.camera.position)\n\t\t\t\t\t.to(startPosition, 2000)\n\t\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t\t.start();\n\t\t\t\tnew TWEEN.Tween(this.camera.rotation)\n\t\t\t\t\t.to({ x: 0, y: (5 * Math.PI) / 4, z: 0 }, 2000)\n\t\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t\t.start();\n\t\t\t}\n\t\t},\n\n\t\tresetCamera() {\n\t\t\tnew TWEEN.Tween(this.camera.position)\n\t\t\t\t.to({ x: 0, y: this.cameraY, z: 0 }, 2000)\n\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t.onUpdate(() => {\n\t\t\t\t\tthis.camera.lookAt(this.scene.position);\n\t\t\t\t})\n\t\t\t\t.onComplete(() => {\n\t\t\t\t\tlet lookDirection = new THREE.Vector3();\n\t\t\t\t\tthis.camera.getWorldDirection(lookDirection);\n\t\t\t\t\tthis.controls.target\n\t\t\t\t\t\t.copy(this.camera.position)\n\t\t\t\t\t\t.add(lookDirection.multiplyScalar(this.cameraY));\n\t\t\t\t})\n\t\t\t\t.start();\n\t\t\tnew TWEEN.Tween(this.camera.rotation)\n\t\t\t\t.to({ x: -Math.PI / 2, y: 0, z: 0 }, 2000)\n\t\t\t\t.easing(TWEEN.Easing.Exponential.Out)\n\t\t\t\t.start();\n\t\t},\n\n\t\tresizeHandler(event) {\n\t\t\tlet width = window.innerWidth,\n\t\t\t\theight = window.innerHeight;\n\t\t\tthis.renderer.setSize(width, height);\n\t\t\tthis.camera.aspect = width / height;\n\t\t\tthis.camera.updateProjectionMatrix();\n\t\t},\n\n\t\tinitGrid() {\n\t\t\tlet vm = this;\n\t\t\tfor (let i = 0; i < this.rows; i++) {\n\t\t\t\tlet currentRow = [];\n\t\t\t\tfor (let j = 0; j < this.cols; j++) {\n\t\t\t\t\tlet node = this.createNode(i, j);\n\t\t\t\t\tcurrentRow.push(node);\n\t\t\t\t}\n\t\t\t\tthis.grid.push(currentRow);\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.rows; i++) {\n\t\t\t\tfor (let j = 0; j < this.cols; j++) {\n\t\t\t\t\tthis.$watch(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\treturn this.grid[i][j];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.nodeWatcher,\n\t\t\t\t\t\t{ deep: true }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcreateNode(row, col) {\n\t\t\tlet faces = {};\n\t\t\tlet faceIndex = row * 2 * this.cols + col * 2;\n\t\t\tfaces[1] = this.ground.geometry.faces[faceIndex];\n\t\t\tfaceIndex = faceIndex % 2 == 0 ? faceIndex + 1 : faceIndex - 1;\n\t\t\tfaces[2] = this.ground.geometry.faces[faceIndex];\n\n\t\t\tlet status = \"default\";\n\t\t\tif (row == this.start.row && col == this.start.col) {\n\t\t\t\tstatus = \"start\";\n\t\t\t} else if (row == this.finish.row && col == this.finish.col) {\n\t\t\t\tstatus = \"finish\";\n\t\t\t}\n\n\t\t\t// Node info\n\t\t\tlet node = {\n\t\t\t\tid: row * this.cols + col,\n\t\t\t\trow: row,\n\t\t\t\tcol: col,\n\t\t\t\tfaces: faces,\n\t\t\t\tstatus: status,\n\t\t\t\tdistance: Infinity,\n\t\t\t\ttotalDistance: Infinity,\n\t\t\t\theuristicDistance: null,\n\t\t\t\tdirection: null,\n\t\t\t\tweight: 0,\n\t\t\t\tpreviousNode: null,\n\t\t\t};\n\n\t\t\tif (status == \"start\") {\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.start]);\n\t\t\t} else if (status == \"finish\") {\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.finish]);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t},\n\n\t\tnodeWatcher(newVal, oldVal) {\n\t\t\t// console.log('WATCHER', newVal);\n\t\t\tif (this.visualizerState == \"running\") return;\n\t\t\tthis.updateNode(newVal, this.streaming);\n\t\t},\n\n\t\tupdateNode(node, instant = false) {\n\t\t\tif (node.status == \"wall\") {\n\t\t\t\tlet scaleY = 0.5 + Math.random();\n\t\t\t\tif(!instant) {\n\t\t\t\t\tthis.addWall(node, scaleY, instant ? 0 : 1000);\n\t\t\t\t}\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.wall]);\n\t\t\t} else if (node.status == \"start\") {\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.start]);\n\t\t\t} else if (node.status == \"finish\") {\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.finish]);\n\t\t\t} else if (node.status == \"visited\") {\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.visited]);\n\t\t\t} else {\n\t\t\t\tif (this.walls[node.id] != null && this.walls[node.id].visible && !instant) {\n\t\t\t\t\tthis.hideWall(this.walls[node.id]);\n\t\t\t\t}\n\t\t\t\ttweenToColor(node, this.ground.geometry, [this.colors.default]);\n\t\t\t}\n\t\t},\n\n\t\taddWall(node, scaleY, duration) {\n\t\t\tif (!!this.walls[node.id]) {\n\t\t\t\tif(!this.walls[node.id].visible) {\n\t\t\t\t\tthis.showWall(this.walls[node.id], scaleY, duration);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet materialId = 1 + Math.floor(Math.random() * (this.wallMaterials.length - 1));\n\t\t\tlet wall = new THREE.Mesh(this.wallGeomtery, this.wallMaterials[materialId]);\n\t\t\twall.name = \"wall\";\n\t\t\twall.wallId = node.id;\n\t\t\twall.scale.y = scaleY;\n\t\t\twall.castShadow = true;\n\t\t\twall.receiveShadow = true;\n\t\t\tthis.scene.add(wall);\n\t\t\tthis.$set(this.walls, node.id, wall);\n\n\t\t\tlet gridWidth = this.cols * this.nodeDimensions.width;\n\t\t\tlet gridHeight = this.rows * this.nodeDimensions.height;\n\t\t\tlet height = this.wallGeomtery.parameters.height * wall.scale.y;\n\t\t\tlet x = -gridWidth / 2 + this.nodeDimensions.width / 2 + node.col * this.nodeDimensions.width,\n\t\t\t\ty = height / 2,\n\t\t\t\tz =\n\t\t\t\t\t-gridHeight / 2 + this.nodeDimensions.height / 2 + node.row * this.nodeDimensions.height;\n\t\t\t\n\t\t\tif(duration == 0) {\n\t\t\t\twall.position.set(x, y, z);\n\t\t\t} else {\n\t\t\t\twall.position.set(x, height, z);\n\t\t\t\tnew TWEEN.Tween(wall.position)\n\t\t\t\t\t.to({ x: x, y: y, z: z }, duration)\n\t\t\t\t\t.easing(TWEEN.Easing.Bounce.Out)\n\t\t\t\t\t.start();\n\t\t\t}\n\t\t},\n\n\t\tshowWall(wall, scaleY, duration) {\n\t\t\twall.scale.y = scaleY;\n\t\t\tlet height = wall.geometry.parameters.height * wall.scale.y;\n\t\t\twall.visible = true;\n\t\t\tif(duration == 0) {\n\t\t\t\twall.position.setY(height/2);\n\t\t\t} else {\n\t\t\t\twall.position.setY(height);\n\t\t\t\tnew TWEEN.Tween(wall.position)\n\t\t\t\t\t.to({ y: height / 2 }, duration)\n\t\t\t\t\t.easing(TWEEN.Easing.Bounce.Out)\n\t\t\t\t\t.start();\n\t\t\t}\n\t\t},\n\n\t\thideWall(wall) {\n\t\t\twall.visible = false;\n\t\t},\n\n\t\tonMouseDown(event) {\n\t\t\tthis.down = true;\n\t\t\tthis.moved = false;\n\t\t\tthis.currentEvent = event;\n\t\t\tthis.setMouseVector(event, \"move\");\n\t\t\tthis.clearFocus();\n\t\t},\n\t\tonMouseMove(event) {\n\t\t\tif (!this.down) return;\n\t\t\tthis.moved = true;\n\t\t\tif (this.worldSetup) {\n\t\t\t\tthis.setMouseVector(event, \"move\");\n\t\t\t}\n\t\t},\n\t\tonMouseLeave() {\n\t\t\tif (this.moved) {\n\t\t\t\tthis.onMouseup();\n\t\t\t}\n\t\t\tthis.down = false;\n\t\t},\n\t\tonMouseup(event) {\n\t\t\tlet threshold = 25;\n\t\t\tif (this.moved) {\n\t\t\t\tlet dist = 0;\n\t\t\t\tif (this.currentEvent.touches && this.currentEvent.touches.length > 0) {\n\t\t\t\t\tdist = this.calcDist(\n\t\t\t\t\t\tthis.currentEvent.touches[0].pageX - event.changedTouches[0].pageX,\n\t\t\t\t\t\tthis.currentEvent.touches[0].pageY - event.changedTouches[0].pageY\n\t\t\t\t\t);\n\t\t\t\t\tdist > threshold ? this.moveHandler(event) : this.clickHandler(event);\n\t\t\t\t} else {\n\t\t\t\t\tthis.moveHandler(event);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.clickHandler(event);\n\t\t\t}\n\t\t\tthis.currentEvent = null;\n\t\t\tthis.moved = false;\n\t\t\tthis.down = false;\n\t\t},\n\n\t\tcalcDist(x, y) {\n\t\t\treturn x * x + y * y;\n\t\t},\n\n\t\tsetMouseVector(event, type) {\n\t\t\tlet touchEvent = type == \"click\" ? this.currentEvent : event;\n\t\t\tif (touchEvent.touches && touchEvent.touches.length > 0) {\n\t\t\t\tthis.mouse.x = (touchEvent.touches[0].clientX / window.innerWidth) * 2 - 1;\n\t\t\t\tthis.mouse.y = -(touchEvent.touches[0].clientY / window.innerHeight) * 2 + 1;\n\t\t\t} else {\n\t\t\t\tthis.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n\t\t\t\tthis.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\t\t\t}\n\t\t},\n\n\t\tmoveHandler(event) {\n\t\t\t// console.log(\"Moved\");\n\t\t},\n\n\t\tclickHandler(event) {\n\t\t\tif (this.worldSetup || this.controlType == \"PointerLock\") return;\n\t\t\tthis.setMouseVector(event, \"click\");\n\t\t\tthis.raycaster.setFromCamera(this.mouse, this.camera);\n\t\t\tlet intersects = this.raycaster.intersectObjects(this.clickableObjects); //array\n\t\t\tif (intersects.length > 0) {\n\t\t\t\tlet coords;\n\t\t\t\tif (intersects[0].object.name == \"wall\") {\n\t\t\t\t\tcoords = this.faceIndexToCoordinates(intersects[0].object.wallId * 2);\n\t\t\t\t} else {\n\t\t\t\t\tvar faceIndex = intersects[0].faceIndex;\n\t\t\t\t\tconsole.log(faceIndex);\n\t\t\t\t\tcoords = this.faceIndexToCoordinates(faceIndex);\n\t\t\t\t}\n\t\t\t\tthis.$emit(\"clickEvent\", this.grid[coords.row][coords.col]);\n\t\t\t}\n\t\t},\n\n\t\tdegreesToRadians(degrees) {\n\t\t\treturn degrees * Math.PI/180;\n\t\t},\n\n\t\tfaceIndexToCoordinates(faceIndex) {\n\t\t\t// As each node has 2 faces\n\t\t\treturn {\n\t\t\t\trow: Math.floor(faceIndex / 2 / this.rows),\n\t\t\t\tcol: Math.floor((faceIndex / 2) % this.cols),\n\t\t\t};\n\t\t},\n\n\t\tclearFocus() {\n\t\t\tdocument.getElementsByClassName(\"header\")[0].click();\n\t\t},\n\n\t\tonKeyDown(event) {\n\t\t\tif (this.controlType == \"Orbit\") {\n\t\t\t\tswitch (event.keyCode) {\n\t\t\t\t\t// case 72:  // h\n\t\t\t\t\t// \tthis.hemisphereLight.visible = !this.hemisphereLight.visible;\n\t\t\t\t\t// \tbreak;\n\t\t\t\t\t// case 68: // d\n\t\t\t\t\t// \tthis.directionalLight.visible = !this.directionalLight.visible;\n\t\t\t\t\t// \tbreak;\n\t\t\t\t\tcase 87: // w\n\t\t\t\t\t\tthis.$emit('switchWorldSetup');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 80: // p\n\t\t\t\t\t\tthis.$emit('switchControlType');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tswitch (event.keyCode) {\n\t\t\t\t\tcase 38: // up\n\t\t\t\t\tcase 87: // w\n\t\t\t\t\t\tthis.pointerLock.moveForward = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37: // left\n\t\t\t\t\tcase 65: // a\n\t\t\t\t\t\tthis.pointerLock.moveLeft = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40: // down\n\t\t\t\t\tcase 83: // s\n\t\t\t\t\t\tthis.pointerLock.moveBackward = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39: // right\n\t\t\t\t\tcase 68: // d\n\t\t\t\t\t\tthis.pointerLock.moveRight = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 32: // space\n\t\t\t\t\t\tif (this.pointerLock.canJump === true) this.pointerLock.velocity.y += 200;\n\t\t\t\t\t\tthis.pointerLock.canJump = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 80: // P\n\t\t\t\t\t\tif(!this.controls.isLocked) {\n\t\t\t\t\t\t\tthis.$emit('switchControlType');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tonKeyUp(event) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase 38: // up\n\t\t\t\tcase 87: // w\n\t\t\t\t\tthis.pointerLock.moveForward = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37: // left\n\t\t\t\tcase 65: // a\n\t\t\t\t\tthis.pointerLock.moveLeft = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 40: // down\n\t\t\t\tcase 83: // s\n\t\t\t\t\tthis.pointerLock.moveBackward = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 39: // right\n\t\t\t\tcase 68: // d\n\t\t\t\t\tthis.pointerLock.moveRight = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n#visualizer {\n\theight: 100vh;\n\twidth: 100vw;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}