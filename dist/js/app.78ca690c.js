(function(t){function e(e){for(var s,n,a=e[0],l=e[1],c=e[2],d=0,u=[];d<a.length;d++)n=a[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0037":function(t,e,i){},"04c9":function(t,e,i){"use strict";i("1561")},"0e70":function(t,e,i){t.exports=i.p+"img/building3.d6746a10.png"},1561:function(t,e,i){},"18a8":function(t,e,i){t.exports=i.p+"img/street-view.6948fed4.svg"},"1c29":function(t,e,i){t.exports=i.p+"img/path.c36d7275.svg"},"1d08":function(t,e,i){t.exports=i.p+"img/perspective.ab0ba8e4.svg"},2180:function(t,e,i){},"24e5":function(t,e,i){t.exports=i.p+"img/camera.141027f1.svg"},"2ad7":function(t,e,i){t.exports=i.p+"img/cross.17eb5bbe.svg"},"378b":function(t,e,i){"use strict";i("0037")},"468b":function(t,e,i){t.exports=i.p+"img/setup.6ec161a1.svg"},"513b":function(t,e,i){t.exports=i.p+"img/ground.af02378a.png"},"56d7":function(t,e,i){"use strict";i.r(e);var s=i("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],n={name:"App"},a=n,l=(i("9e9f"),i("2877")),c=Object(l["a"])(a,o,r,!1,null,null,null),h=c.exports,d=i("9483");Object(d["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var u=function(){var t=this,e=t._self._c;return e("button",t._g(t._b({staticClass:"btn accent",attrs:{disabled:t.disabled}},"button",t.$attrs,!1),t.$listeners),[t._t("default")],2)},p=[],g={name:"AppButton",props:{disabled:{type:Boolean,default:!1}}},f=g,m=(i("04c9"),Object(l["a"])(f,u,p,!1,null,null,null)),v=m.exports,w=i("8c4f"),b=(i("e9f5"),i("ab43"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"pathfinding-visualizer",on:{click:t.clearFocus}},[e("VisualizerCanvas",{ref:"visualizer",attrs:{nodeDimensions:t.nodeDimensions,rows:t.rows,cols:t.cols,grid:t.grid,start:t.start,finish:t.finish,visualizerState:t.visualizerState,colors:t.colors,controlType:t.controlType,worldSetup:t.worldSetup,selectedAlgorithm:t.selectedAlgorithm,streaming:t.streaming,thresholdValue:t.thresholdValue},on:{clickEvent:t.onClick,groundInitialized:function(e){t.ground=e},switchWorldSetup:function(e){t.worldSetup=!t.worldSetup},switchControlType:function(e){t.controlType="Orbit"==t.controlType?"PointerLock":"Orbit"},updateEnds:t.updateEnds}}),e("transition-group",{staticClass:"header py-1",attrs:{name:"slide",mode:"out-in",tag:"div"}},[t.worldSetup?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedAlgorithm,expression:"selectedAlgorithm"}],key:"algo-select",attrs:{id:"algorithms",disabled:"running"==t.visualizerState},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedAlgorithm=e.target.multiple?i:i[0]}}},t._l(t.algorithms,(function(i){return e("option",{key:i.algorithm,domProps:{value:i}},[t._v(t._s(i.displayName))])})),0),t.worldSetup?t._e():e("Button",{key:"visualize",staticClass:"accent",attrs:{disabled:"running"==t.visualizerState||t.worldSetup},on:{click:function(e){return t.visualizeAlgorithm()}}},[e("img",{staticClass:"fallback-icon",attrs:{src:i("1c29"),alt:""}}),e("span",{staticClass:"lg"},[t._v("اجرای الگوریتم")])]),e("Button",{key:"clear-path",staticClass:"danger",attrs:{disabled:"running"==t.visualizerState},on:{click:t.clearPath}},[e("img",{staticClass:"fallback-icon",attrs:{src:i("2ad7"),alt:""}}),e("span",{staticClass:"lg"},[t._v("حذف مسیر")]),e("span",{staticClass:"sm"},[t._v("مسیر")])]),e("Button",{key:"clear-walls",staticClass:"danger",attrs:{disabled:"running"==t.visualizerState},on:{click:t.clearWalls}},[e("img",{staticClass:"fallback-icon",attrs:{src:i("2ad7"),alt:""}}),e("span",{staticClass:"lg"},[t._v("حذف دیوارها")]),e("span",{staticClass:"sm"},[t._v("دیوارها")])]),e("div",{key:"maze-select",staticClass:"maze-dropdown"},[e("Button",{staticClass:"info btn-maze",on:{click:t.onMazeDropdownClick}},[e("img",{staticClass:"fallback-icon",attrs:{src:i("bc84"),alt:""}}),e("span",{staticClass:"lg"},[t._v("الگوریتم‌های ماز")])]),t.dropdownOpen?e("div",{staticClass:"dropdown"},t._l(t.mazeAlgorithms,(function(i){return e("div",{key:i,staticClass:"dropdown-item",on:{click:function(e){return t.generateMaze(i)}}},[t._v(" "+t._s(i)+" ")])})),0):t._e()],1),t.worldSetup?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSpeed,expression:"selectedSpeed"}],key:"speed-select",attrs:{id:"algorithms",disabled:"running"==t.visualizerState},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSpeed=e.target.multiple?i:i[0]}}},t._l(t.speeds,(function(i){return e("option",{key:i.text,domProps:{value:i}},[t._v(t._s(i.text))])})),0)],1),"PointerLock"!=t.controlType?e("Button",{key:"setup",staticClass:"hover btn-setup warning",class:{setup:t.worldSetup},on:{click:function(e){t.worldSetup=!t.worldSetup}}},[e("img",{attrs:{src:i("468b"),alt:""}}),e("span",{staticClass:"lg"},[t._v(t._s(t.worldSetup?"اتمام تنظیمات":"تنظیم محیط"))])]):t._e(),t.worldSetup?t._e():e("Button",{key:"switch-controls",staticClass:"hover btn-controls warning",on:{click:t.switchControl}},["Orbit"==t.controlType?e("img",{attrs:{src:i("18a8"),alt:""}}):e("img",{attrs:{src:i("1d08"),alt:""}}),e("span",{staticClass:"lg"},[t._v(t._s("Orbit"==t.controlType?"نمای اول‌شخص":"نمای پرسپکتیو"))])]),"Orbit"==t.controlType?e("Button",{key:"reset-camera",staticClass:"hover btn-camera warning",on:{click:function(e){return t.$refs.visualizer.resetCamera()}}},[e("img",{attrs:{src:i("ad9f"),alt:""}}),e("span",{staticClass:"lg"},[t._v("بازنشانی دوربین")])]):t._e(),t.worldSetup?e("Button",{key:"device-camera",staticClass:"hover btn-device-cam warning",class:{active:t.deviceCamInput},on:{click:function(e){t.deviceCamInput=!t.deviceCamInput}}},[e("img",{attrs:{src:i("24e5"),alt:""}}),e("span",{staticClass:"lg"},[t._v(t._s("ورودی دوربین"))])]):t._e(),e("canvas",{attrs:{id:"video-canvas"}}),e("video",{attrs:{id:"video",autoplay:""}}),t.deviceCamInput?e("input",{directives:[{name:"model",rawName:"v-model",value:t.thresholdValue,expression:"thresholdValue"}],ref:"threshold",attrs:{id:"threshold",type:"range",min:"0",max:"255"},domProps:{value:t.thresholdValue},on:{__r:function(e){t.thresholdValue=e.target.value}}}):t._e(),e("Info",{ref:"info",attrs:{colors:t.colors},on:{unlockSwarm:t.unlockSwarm}})],1)}),y=[],k=(i("14d9"),i("7d54"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"visualizer"},on:{click:function(e){"PointerLock"==t.controlType?t.controls.lock():t.clearFocus}}},[e("script",{attrs:{type:"x-shader/x-vertex",id:"vertexShader"}},[t._v(" varying vec3 vWorldPosition; void main() { vec4 worldPosition = modelMatrix * vec4( position, 1.0 ); vWorldPosition = worldPosition.xyz; gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 ); } ")]),e("script",{attrs:{type:"x-shader/x-fragment",id:"fragmentShader"}},[t._v(" uniform vec3 topColor; uniform vec3 bottomColor; uniform float offset; uniform float exponent; varying vec3 vWorldPosition; void main() { float h = normalize( vWorldPosition + offset ).y; gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 ); } ")])])}),C=[],x=i("5a89"),L=i("4721"),S=i("b317"),_=i("22b5"),M=i("ef20");function T(t){const e=[];for(const i of t)e.push(...i);return e}function z(t){const e=[];let i=t;null!=i.previousNode&&(i=i.previousNode);while(null!==i){if(null===i.previousNode)break;e.unshift(i),i=i.previousNode}return e}async function O(t,e,i,s=300,o){for(let n=0;n<i.length;n++)new _["a"].Tween(t.faces[1].color).to(i[n],s).onUpdate(()=>{e.colorsNeedUpdate=!0}).delay(200*n).start(),new _["a"].Tween(t.faces[2].color).to(i[n],s).onUpdate(()=>{e.colorsNeedUpdate=!0}).delay(200*n).start();if(o&&o.position){var r=["a","b","c"];r.forEach((function(i){new _["a"].Tween(e.vertices[t.faces[1][i]]).to({y:.5},s).onUpdate(()=>{e.verticesNeedUpdate=!0}).start(),new _["a"].Tween(e.vertices[t.faces[2][i]]).to({y:.5},s).onUpdate(()=>{e.verticesNeedUpdate=!0}).start()})),r.forEach((function(i){new _["a"].Tween(e.vertices[t.faces[1][i]]).to({y:0},s).onUpdate(()=>{e.verticesNeedUpdate=!0}).delay(100).start(),new _["a"].Tween(e.vertices[t.faces[2][i]]).to({y:0},s).onUpdate(()=>{e.verticesNeedUpdate=!0}).delay(100).start()}))}}var E={props:["nodeDimensions","grid","rows","cols","start","finish","visualizerState","colors","controlType","worldSetup","selectedAlgorithm","streaming","thresholdValue"],data:()=>({scene:null,camera:null,cameraY:0,defaultCameraY:250,renderer:null,pointerLock:{moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,velocity:null,direction:null,prevTime:null},controls:null,orbitControls:null,pointerLockControls:null,raycaster:null,ambientLight:null,hemisphereLight:null,directionalLight:null,ground:null,wallGeomtery:null,wallMaterials:[],walls:{},wallTextures:[{path:"building1.png",repeatY:1},{path:"building2.png",repeatY:2},{path:"building3.png",repeatY:3}],down:!1,moved:!1,currentEvent:null,mouse:null,intersectedNode:null,clock:null,stats:null,videoCanvas:null,video:null}),computed:{clickableObjects(){let t=[];t.push(this.ground);for(let e of Object.keys(this.walls))this.walls[e].visible&&t.push(this.walls[e]);return t},collidableObjects(){let t=[];for(let e of Object.keys(this.walls))this.walls[e].visible&&t.push(this.walls[e]);return t}},watch:{controlType:function(t,e){this.setControls()},worldSetup:function(t,e){t?(_["a"].removeAll(),new _["a"].Tween(this.camera.position).to({x:0,y:this.cameraY-30,z:0},500).easing(_["a"].Easing.Exponential.Out).onUpdate(()=>{this.camera.lookAt(this.scene.position)}).onComplete(()=>{this.controls.enableRotate=!1;let t=new x["E"];this.camera.getWorldDirection(t),this.controls.target.copy(this.camera.position).add(t.multiplyScalar(this.cameraY-30))}).start(),new _["a"].Tween(this.camera.rotation).to({y:0,z:0},500).easing(_["a"].Easing.Exponential.Out).start()):new _["a"].Tween(this.camera.position).to({y:this.cameraY},500).easing(_["a"].Easing.Exponential.Out).onComplete(()=>{this.controls.enableRotate=!0,this.controls.update()}).start()},streaming:function(t,e){if(!t)for(let i=0;i<this.rows;i++)for(let t=0;t<this.cols;t++)this.updateNode(this.grid[i][t])}},created(){this.cameraY=this.defaultCameraY},mounted(){this.init(),this.videoCanvas=document.querySelector("#video-canvas"),this.video=document.querySelector("video")},methods:{init(){let t=window.innerWidth,e=window.innerHeight;this.scene=new x["x"],this.scene.background=new x["e"](12310271),this.scene.fog=new x["j"](16777215,0,750),this.camera=new x["s"](60,t/e,1,5e3),this.camera.position.y=this.cameraY+2e3,this.camera.position.x=-500,this.camera.position.z=500,this.renderer=new x["F"]({antialias:!0}),this.renderer.setSize(t,e),this.renderer.shadowMap.enabled=!0,document.getElementById("visualizer").appendChild(this.renderer.domElement),this.addControls(),this.setControls(!0),this.raycaster=new x["v"];let s=this.cols*this.nodeDimensions.width,o=this.rows*this.nodeDimensions.height,r=this,n=new x["t"](s,o,this.cols,this.rows);n.rotateX(-Math.PI/2);let a=new x["C"];a.load(i("513b"),(function(t){t.wrapS=x["w"],t.wrapT=x["w"],t.repeat.x=r.rows,t.repeat.y=r.cols;var e=new x["q"]({map:t,side:x["k"],vertexColors:x["i"]});r.ground=new x["p"](n,e),r.ground.receiveShadow=!0,r.ground.position.y=.02,r.scene.add(r.ground),r.initGrid(),r.$emit("groundInitialized",r.ground)}),void 0,(function(t){console.log(t)}));let l=new x["t"](1e3,1e3,this.cols,this.rows);l.rotateX(-Math.PI/2);var c=new x["q"]({color:12305104,side:x["k"]});let h=new x["p"](l,c);this.scene.add(h);var d=this.cols*this.nodeDimensions.height,u=this.cols,p=new x["l"](d,u,6060221,6060221);p.position.y=.035,this.scene.add(p);let g=2*this.nodeDimensions.height;this.wallGeomtery=new x["c"](this.nodeDimensions.width,g,this.nodeDimensions.height);this.wallTextures[Math.floor(Math.random()*this.wallTextures.length)];this.wallMaterials.push(new x["r"]({color:new x["e"](this.colors.wall.r,this.colors.wall.g,this.colors.wall.b)}));for(let C of this.wallTextures)a.load(i("a1c9")("./"+C.path),(function(t){t.wrapT=x["w"],t.repeat.y=C.repeatY,r.wallMaterials.push(new x["q"]({map:t}))}),void 0,(function(t){console.log(t)}));this.ambientLight=new x["a"](16777215,1),this.scene.add(this.ambientLight),this.hemisphereLight=new x["m"](16777215,16777215,.1),this.hemisphereLight.color.setHSL(.6,1,.6),this.hemisphereLight.groundColor.setHex(8877917),this.hemisphereLight.position.set(0,5,0),this.scene.add(this.hemisphereLight),this.directionalLight=new x["f"](16777215,.5),this.directionalLight.color.setHSL(.1,1,.95),this.directionalLight.position.set(-1,1.75,1),this.directionalLight.position.multiplyScalar(70),this.scene.add(this.directionalLight),this.directionalLight.castShadow=!0,this.directionalLight.shadow.mapSize.width=2048,this.directionalLight.shadow.mapSize.height=2048;var f=200;this.directionalLight.shadow.camera.left=-f,this.directionalLight.shadow.camera.right=f,this.directionalLight.shadow.camera.top=f,this.directionalLight.shadow.camera.bottom=-f,this.directionalLight.shadow.camera.far=350;var m=document.getElementById("vertexShader").textContent,v=document.getElementById("fragmentShader").textContent,w={topColor:{value:new x["e"](30719)},bottomColor:{value:new x["e"](16777215)},offset:{value:33},exponent:{value:.6}};w["topColor"].value.copy(this.hemisphereLight.color),this.scene.fog.color.copy(w["bottomColor"].value);var b=new x["z"](1e3,32,15),y=new x["y"]({uniforms:w,vertexShader:m,fragmentShader:v,side:x["b"]}),k=new x["p"](b,y);this.scene.add(k),this.stats=new M["a"],this.stats.dom.style.top="auto",this.stats.dom.style.bottom="5px",this.stats.dom.style.left="3px",document.getElementById("visualizer").appendChild(this.stats.dom),window.addEventListener("resize",this.resizeHandler),this.renderer.domElement.addEventListener("mousedown",this.onMouseDown,!0),this.renderer.domElement.addEventListener("touchstart",this.onMouseDown,!0),this.renderer.domElement.addEventListener("mousemove",this.onMouseMove,!0),this.renderer.domElement.addEventListener("touchmove",this.onMouseMove,!0),this.renderer.domElement.addEventListener("mouseup",this.onMouseup,!0),this.renderer.domElement.addEventListener("mouseleave",this.onMouseLeave,!0),this.renderer.domElement.addEventListener("touchend",this.onMouseup,!0),this.mouse=new x["D"],this.renderLoop()},renderLoop(){if(requestAnimationFrame(this.renderLoop),"PointerLock"==this.controlType){var t=this.clock.getDelta();this.animatePlayer(t)}this.worldSetup&&(this.hoverObjectLoop(),this.streaming&&this.deviceCamLoop()),this.renderer.render(this.scene,this.camera),_["a"].update(),this.stats.update()},hoverObjectLoop(){if(this.down){this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.clickableObjects);if(t.length>0){let i;if("wall"==t[0].object.name)i=this.faceIndexToCoordinates(2*t[0].object.wallId);else{var e=t[0].faceIndex;i=this.faceIndexToCoordinates(e)}if(this.grid[i.row][i.col]!=this.intersectedNode){let t=["start","finish"];if(t.includes(this.grid[i.row][i.col].status)||this.intersectedNode&&t.includes(this.intersectedNode.status)){let e;e=t.includes(this.grid[i.row][i.col].status)?this.grid[i.row][i.col].status:this.intersectedNode.status;let s={};s[e]={row:i.row,col:i.col},this.intersectedNode&&t.includes(this.intersectedNode.status)&&(this.intersectedNode.status="default"),this.grid[i.row][i.col].status=e,this.$emit("updateEnds",s)}else"unweighted"==this.selectedAlgorithm.type||this.intersectedNode&&t.includes(this.intersectedNode.status)||(this.grid[i.row][i.col].status="wall"==this.grid[i.row][i.col].status?"default":"wall");this.intersectedNode=this.grid[i.row][i.col]}}}else this.intersectedNode=null},animatePlayer(t){let e=300;this.pointerLock.velocity.x-=10*this.pointerLock.velocity.x*t,this.pointerLock.velocity.z-=10*this.pointerLock.velocity.z*t,0==this.detectPlayerCollision()?(this.pointerLock.direction.z=Number(this.pointerLock.moveForward)-Number(this.pointerLock.moveBackward),this.pointerLock.direction.x=Number(this.pointerLock.moveRight)-Number(this.pointerLock.moveLeft),this.pointerLock.direction.normalize(),(this.pointerLock.moveForward||this.pointerLock.moveBackward)&&(this.pointerLock.velocity.z-=this.pointerLock.direction.z*e*t),(this.pointerLock.moveLeft||this.pointerLock.moveRight)&&(this.pointerLock.velocity.x-=this.pointerLock.direction.x*e*t),this.controls.moveRight(-this.pointerLock.velocity.x*t),this.controls.moveForward(-this.pointerLock.velocity.z*t)):(this.pointerLock.velocity.x=0,this.pointerLock.velocity.z=0),this.pointerLock.velocity.y-=9.8*50*t,this.detectOnObject()&&(this.pointerLock.velocity.y=Math.max(0,this.pointerLock.velocity.y),this.pointerLock.canJump=!0),this.controls.getObject().position.y+=this.pointerLock.velocity.y*t,this.controls.getObject().position.y<this.cameraY&&(this.pointerLock.velocity.y=0,this.controls.getObject().position.y=this.cameraY,this.pointerLock.canJump=!0)},detectPlayerCollision(){let t,e=this.controls.getDirection(new x["E"](0,0,0)).clone(),i=1;this.pointerLock.moveBackward?(t=new x["o"],t.makeRotationY(this.degreesToRadians(180))):this.pointerLock.moveLeft?(t=new x["o"],t.makeRotationY(this.degreesToRadians(90))):this.pointerLock.moveRight&&(t=new x["o"],t.makeRotationY(this.degreesToRadians(270))),void 0!==t&&e.applyMatrix4(t);let s=new x["v"](this.controls.getObject().position,e);return!!this.rayIntersect(s,i)},detectOnObject(){let t=this.cameraY+1,e=new x["v"](this.controls.getObject().position,new x["E"](0,-1,0));return!!this.rayIntersect(e,t)},deviceCamLoop(){let t=this.videoCanvas.getContext("2d");t.drawImage(this.video,0,0,this.videoCanvas.width,this.videoCanvas.height);let e=t.getImageData(0,0,this.videoCanvas.width,this.videoCanvas.height);for(let i=0;i<this.videoCanvas.height;i++)for(let t=0;t<this.videoCanvas.width;t++){let s=4*(t+i*this.videoCanvas.width),o=e.data[s+0],r=e.data[s+1],n=e.data[s+2],a=Math.floor((o+r+n)/3),l=Math.floor(this.videoCanvas.width-1-t),c="default";i==this.start.row&&l==this.start.col?c="start":i==this.finish.row&&l==this.finish.col&&(c="finish"),a>this.thresholdValue?this.grid[i][l].status=c:"start"!=c&&"finish"!=c&&(this.grid[i][l].status="wall")}},rayIntersect(t,e){for(var i=t.intersectObjects(this.collidableObjects),s=0;s<i.length;s++)if(i[s].distance<e)return!0;return!1},addControls(){this.orbitControls=new L["a"](this.camera,this.renderer.domElement),this.pointerLockControls=new S["a"](this.camera,this.renderer.domElement),this.pointerLockControls.addEventListener("lock",(function(){console.log("Pointer Locked")})),this.pointerLockControls.addEventListener("unlock",(function(){console.log("Pointer Unlocked")})),this.clock=new x["d"],document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),this.pointerLock.velocity=new x["E"],this.pointerLock.direction=new x["E"],this.scene.add(this.pointerLockControls.getObject())},setControls(t=!1){let e=this;if(_["a"].removeAll(),"Orbit"==this.controlType)this.cameraY=this.defaultCameraY,this.camera.near=1,this.camera.updateProjectionMatrix(),this.controls=this.orbitControls,this.controls.enabled=!0,setTimeout(()=>{e.resetCamera()},t?800:0);else if("PointerLock"==this.controlType){this.cameraY=3,this.camera.near=.05,this.camera.updateProjectionMatrix(),this.controls.enabled=!1,this.controls=this.pointerLockControls;let t=this.ground.geometry.vertices[this.grid[this.start.row][this.start.col].faces[1]["a"]];new _["a"].Tween(this.camera.position).to(t,2e3).easing(_["a"].Easing.Exponential.Out).start(),new _["a"].Tween(this.camera.rotation).to({x:0,y:5*Math.PI/4,z:0},2e3).easing(_["a"].Easing.Exponential.Out).start()}},resetCamera(){new _["a"].Tween(this.camera.position).to({x:0,y:this.cameraY,z:0},2e3).easing(_["a"].Easing.Exponential.Out).onUpdate(()=>{this.camera.lookAt(this.scene.position)}).onComplete(()=>{let t=new x["E"];this.camera.getWorldDirection(t),this.controls.target.copy(this.camera.position).add(t.multiplyScalar(this.cameraY))}).start(),new _["a"].Tween(this.camera.rotation).to({x:-Math.PI/2,y:0,z:0},2e3).easing(_["a"].Easing.Exponential.Out).start()},resizeHandler(t){let e=window.innerWidth,i=window.innerHeight;this.renderer.setSize(e,i),this.camera.aspect=e/i,this.camera.updateProjectionMatrix()},initGrid(){for(let t=0;t<this.rows;t++){let e=[];for(let i=0;i<this.cols;i++){let s=this.createNode(t,i);e.push(s)}this.grid.push(e)}for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++)this.$watch((function(){return this.grid[t][e]}),this.nodeWatcher,{deep:!0})},createNode(t,e){let i={},s=2*t*this.cols+2*e;i[1]=this.ground.geometry.faces[s],s=s%2==0?s+1:s-1,i[2]=this.ground.geometry.faces[s];let o="default";t==this.start.row&&e==this.start.col?o="start":t==this.finish.row&&e==this.finish.col&&(o="finish");let r={id:t*this.cols+e,row:t,col:e,faces:i,status:o,distance:1/0,totalDistance:1/0,heuristicDistance:null,direction:null,weight:0,previousNode:null};return"start"==o?O(r,this.ground.geometry,[this.colors.start]):"finish"==o&&O(r,this.ground.geometry,[this.colors.finish]),r},nodeWatcher(t,e){"running"!=this.visualizerState&&this.updateNode(t,this.streaming)},updateNode(t,e=!1){if("wall"==t.status){let i=.5+Math.random();e||this.addWall(t,i,e?0:1e3),O(t,this.ground.geometry,[this.colors.wall])}else"start"==t.status?O(t,this.ground.geometry,[this.colors.start]):"finish"==t.status?O(t,this.ground.geometry,[this.colors.finish]):"visited"==t.status?O(t,this.ground.geometry,[this.colors.visited]):(null!=this.walls[t.id]&&this.walls[t.id].visible&&!e&&this.hideWall(this.walls[t.id]),O(t,this.ground.geometry,[this.colors.default]))},addWall(t,e,i){if(this.walls[t.id])return void(this.walls[t.id].visible||this.showWall(this.walls[t.id],e,i));let s=1+Math.floor(Math.random()*(this.wallMaterials.length-1)),o=new x["p"](this.wallGeomtery,this.wallMaterials[s]);o.name="wall",o.wallId=t.id,o.scale.y=e,o.castShadow=!0,o.receiveShadow=!0,this.scene.add(o),this.$set(this.walls,t.id,o);let r=this.cols*this.nodeDimensions.width,n=this.rows*this.nodeDimensions.height,a=this.wallGeomtery.parameters.height*o.scale.y,l=-r/2+this.nodeDimensions.width/2+t.col*this.nodeDimensions.width,c=a/2,h=-n/2+this.nodeDimensions.height/2+t.row*this.nodeDimensions.height;0==i?o.position.set(l,c,h):(o.position.set(l,a,h),new _["a"].Tween(o.position).to({x:l,y:c,z:h},i).easing(_["a"].Easing.Bounce.Out).start())},showWall(t,e,i){t.scale.y=e;let s=t.geometry.parameters.height*t.scale.y;t.visible=!0,0==i?t.position.setY(s/2):(t.position.setY(s),new _["a"].Tween(t.position).to({y:s/2},i).easing(_["a"].Easing.Bounce.Out).start())},hideWall(t){t.visible=!1},onMouseDown(t){this.down=!0,this.moved=!1,this.currentEvent=t,this.setMouseVector(t,"move"),this.clearFocus()},onMouseMove(t){this.down&&(this.moved=!0,this.worldSetup&&this.setMouseVector(t,"move"))},onMouseLeave(){this.moved&&this.onMouseup(),this.down=!1},onMouseup(t){let e=25;if(this.moved){let i=0;this.currentEvent.touches&&this.currentEvent.touches.length>0?(i=this.calcDist(this.currentEvent.touches[0].pageX-t.changedTouches[0].pageX,this.currentEvent.touches[0].pageY-t.changedTouches[0].pageY),i>e?this.moveHandler(t):this.clickHandler(t)):this.moveHandler(t)}else this.clickHandler(t);this.currentEvent=null,this.moved=!1,this.down=!1},calcDist(t,e){return t*t+e*e},setMouseVector(t,e){let i="click"==e?this.currentEvent:t;i.touches&&i.touches.length>0?(this.mouse.x=i.touches[0].clientX/window.innerWidth*2-1,this.mouse.y=-i.touches[0].clientY/window.innerHeight*2+1):(this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1)},moveHandler(t){},clickHandler(t){if(this.worldSetup||"PointerLock"==this.controlType)return;this.setMouseVector(t,"click"),this.raycaster.setFromCamera(this.mouse,this.camera);let e=this.raycaster.intersectObjects(this.clickableObjects);if(e.length>0){let t;if("wall"==e[0].object.name)t=this.faceIndexToCoordinates(2*e[0].object.wallId);else{var i=e[0].faceIndex;console.log(i),t=this.faceIndexToCoordinates(i)}this.$emit("clickEvent",this.grid[t.row][t.col])}},degreesToRadians(t){return t*Math.PI/180},faceIndexToCoordinates(t){return{row:Math.floor(t/2/this.rows),col:Math.floor(t/2%this.cols)}},clearFocus(){document.getElementsByClassName("header")[0].click()},onKeyDown(t){if("Orbit"==this.controlType)switch(t.keyCode){case 87:this.$emit("switchWorldSetup");break;case 80:this.$emit("switchControlType");break}else switch(t.keyCode){case 38:case 87:this.pointerLock.moveForward=!0;break;case 37:case 65:this.pointerLock.moveLeft=!0;break;case 40:case 83:this.pointerLock.moveBackward=!0;break;case 39:case 68:this.pointerLock.moveRight=!0;break;case 32:!0===this.pointerLock.canJump&&(this.pointerLock.velocity.y+=200),this.pointerLock.canJump=!1;break;case 80:this.controls.isLocked||this.$emit("switchControlType");break}},onKeyUp(t){switch(t.keyCode){case 38:case 87:this.pointerLock.moveForward=!1;break;case 37:case 65:this.pointerLock.moveLeft=!1;break;case 40:case 83:this.pointerLock.moveBackward=!1;break;case 39:case 68:this.pointerLock.moveRight=!1;break}}}},D=E,j=(i("5ee0"),Object(l["a"])(D,k,C,!1,null,null,null)),N=j.exports,A=function(){var t=this,e=t._self._c;return e("div",{ref:"infoBox",staticClass:"info-container",class:t.containerClasses},[""!=t.status?e("button",{staticClass:"btn-close",on:{click:t.resetToLegends}},[t._v("✖")]):t._e(),e("h2",[t._v(t._s(t.current.heading))]),e("p",{staticClass:"main-content",domProps:{innerHTML:t._s(t.current.text)}}),e("div",{staticClass:"info-buttons"},[e("router-link",{staticClass:"about-link",attrs:{to:"/about"}},[e("span",[t._v("درباره پروژه و سازنده")])])],1),e("img",{staticClass:"info-icon",attrs:{src:i("76ed")}})])},P=[],$={props:{info:Object,colors:Object},data:()=>({status:"",current:{heading:"",text:""},legends:{heading:"ویژوالایزر مسیریابی",text:""}}),computed:{containerClasses(){let t={centered:!1};return t[this.status]=!0,t}},created(){this.current=this.legends},mounted(){this.constructLegends()},methods:{constructLegends(){this.legends.text+=`<table class="legends-table">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ${this.getRGBString(this.colors.start)}"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>گره شروع (Start Node)</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ${this.getRGBString(this.colors.finish)}"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>گره پایان (Finish Node)</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ${this.getRGBString(this.colors.visited)}"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>گره بازدید‌شده (Visited Node)</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div class="square" style="background-color: ${this.getRGBString(this.colors.path)}"></div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>گره مسیر (Path Node)</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t\t`},getRGBString(t){return`rgb(${255*t.r}, ${255*t.g}, ${255*t.b})`},resetToLegends(){this.$refs.infoBox.classList.remove("error"),this.current=this.legends,this.status=""},alert(t){this.$refs.infoBox.classList.remove("error"),this.$refs.infoBox.classList.add("alert"),t&&(this.current=t),setTimeout(()=>{this.$refs.infoBox.classList.remove("alert")},1e3)},error(t){this.$refs.infoBox.classList.remove("error"),setTimeout(()=>{this.$refs.infoBox.classList.add("error")},0),t&&(this.current=t)}}},B=$,I=(i("fe3a"),Object(l["a"])(B,A,P,!1,null,null,null)),Y=I.exports;function R(t,e,i,s,o,r){e.distance=0,e.direction="right","astar"==o&&(e.totalDistance=0);let n=T(t);while(n.length){let a=U(n,o);while("wall"===a.status&&n.length)a=U(n,o);if(a.distance===1/0)return!1;if(s.push(a),a.status="visited",a.id===i.id)return"success!";"CLA"===o||"greedy"===o||"astar"==o?W(t,a,e,i,o,r):"dijkstra"===o&&W(t,a)}}function U(t,e){let i,s;for(let o=0;o<t.length;o++)"astar"==e?(!i||i.totalDistance>t[o].totalDistance||i.totalDistance===t[o].totalDistance&&i.heuristicDistance>t[o].heuristicDistance)&&(i=t[o],s=o):(!i||i.distance>t[o].distance)&&(i=t[o],s=o);return t.splice(s,1),i}function W(t,e,i,s,o,r){let n=V(e,t);for(let a of n)s?F(e,a,i,s,o,r):F(e,a)}function F(t,e,i,s,o,r){let n,a=H(t,e);if(s&&"CLA"===o){let i=15===e.weight?15:1;"manhattanDistance"===r?n=t.distance+(a[0]+i)*q(e,s):"poweredManhattanDistance"===r?n=t.distance+e.weight+a[0]+Math.pow(q(e,s),2):"extraPoweredManhattanDistance"===r&&(n=t.distance+(a[0]+i)*Math.pow(q(e,s),7))}else s&&"greedy"===o?n=e.weight+a[0]+q(e,s):"astar"==o?(e.heuristicDistance||(e.heuristicDistance=q(e,s)),n=t.distance+e.weight+a[0]):n=t.distance+e.weight+a[0];n<e.distance&&(e.distance=n,e.previousNode=t,e.path=a[1],e.direction=a[2],"astar"==o&&(e.totalDistance=e.distance+e.heuristicDistance))}function V(t,e){const i=[],{col:s,row:o}=t;return o>0&&i.push(e[o-1][s]),o<e.length-1&&i.push(e[o+1][s]),s>0&&i.push(e[o][s-1]),s<e[0].length-1&&i.push(e[o][s+1]),i.filter(t=>"visited"!=t.stutus)}function H(t,e){let i=t.row,s=t.col,o=e.row,r=e.col;if(o<i&&s===r){if("up"===t.direction)return[1,["f"],"up"];if("right"===t.direction)return[2,["l","f"],"up"];if("left"===t.direction)return[2,["r","f"],"up"];if("down"===t.direction)return[3,["r","r","f"],"up"];if("up-right"===t.direction)return[1.5,null,"up"];if("down-right"===t.direction)return[2.5,null,"up"];if("up-left"===t.direction)return[1.5,null,"up"];if("down-left"===t.direction)return[2.5,null,"up"]}else if(o>i&&s===r){if("up"===t.direction)return[3,["r","r","f"],"down"];if("right"===t.direction)return[2,["r","f"],"down"];if("left"===t.direction)return[2,["l","f"],"down"];if("down"===t.direction)return[1,["f"],"down"];if("up-right"===t.direction)return[2.5,null,"down"];if("down-right"===t.direction)return[1.5,null,"down"];if("up-left"===t.direction)return[2.5,null,"down"];if("down-left"===t.direction)return[1.5,null,"down"]}if(r<s&&i===o){if("up"===t.direction)return[2,["l","f"],"left"];if("right"===t.direction)return[3,["l","l","f"],"left"];if("left"===t.direction)return[1,["f"],"left"];if("down"===t.direction)return[2,["r","f"],"left"];if("up-right"===t.direction)return[2.5,null,"left"];if("down-right"===t.direction)return[2.5,null,"left"];if("up-left"===t.direction)return[1.5,null,"left"];if("down-left"===t.direction)return[1.5,null,"left"]}else if(r>s&&i===o){if("up"===t.direction)return[2,["r","f"],"right"];if("right"===t.direction)return[1,["f"],"right"];if("left"===t.direction)return[3,["r","r","f"],"right"];if("down"===t.direction)return[2,["l","f"],"right"];if("up-right"===t.direction)return[1.5,null,"right"];if("down-right"===t.direction)return[1.5,null,"right"];if("up-left"===t.direction)return[2.5,null,"right"];if("down-left"===t.direction)return[2.5,null,"right"]}}function q(t,e){let i=[t.row,t.col],s=[e.row,e.col],o=Math.abs(i[0]-s[0]),r=Math.abs(i[1]-s[1]);return o+r}function G(t,e,i,s,o){let r=[e],n={start:!0};while(r.length){let a="bfs"===o?r.shift():r.pop();if(s.push(a),"dfs"===o&&(n[a.id]=!0),a.status="visited",a.id===i.id)return"success!";let l=J(a,t,o);l.forEach(t=>{n[t.id]||("bfs"===o&&(n[t.id]=!0),t.id!=e.id&&(t.previousNode=a),r.push(t))})}return!1}function J(t,e,i){const s=[],{col:o,row:r}=t;let n;return r>0&&(n=e[r-1][o],"bfs"===i?s.push(n):s.unshift(n)),r<e.length-1&&(n=e[r+1][o],"bfs"===i?s.push(n):s.unshift(n)),o>0&&(n=e[r][o-1],"bfs"===i?s.push(n):s.unshift(n)),o<e[0].length-1&&(n=e[r][o+1],"bfs"===i?s.push(n):s.unshift(n)),s.filter(t=>"visited"!=t.stutus)}function X(t,e,i){for(let s=0;s<t.length;s++)for(let o=0;o<t[0].length;o++){let r=Math.random(),n=t[s][o],a=["start","finish"],l="wall"===i?.25:.35;r<l&&!a.includes(n.status)&&(e.push(n),"wall"===i?n.weight=0:"weight"===i&&(n.weight=15))}}function K(t,e,i,s,o,r,n,a,l){if(i<e||o<s)return;let c=["start","finish"];function h(t){c.includes(t.status)||(a.push(t),"wall"===l?t.weight=0:"weight"===l&&(t.weight=15))}if(!n){let e,i;for(i=0;i<t[0].length;i++)e=0,h(t[e][i]);for(i=0;i<t[0].length;i++)e=t.length-1,h(t[e][i]);for(e=1;e<t.length-1;e++)i=0,h(t[e][i]);for(e=1;e<t.length-1;e++)i=t[0].length-1,h(t[e][i]);n=!0}if("horizontal"===r){let c=[];for(let t=e;t<=i;t+=2)c.push(t);let d=[];for(let t=s-1;t<=o+1;t+=2)d.push(t);let u,p=Math.floor(Math.random()*c.length),g=Math.floor(Math.random()*d.length),f=c[p],m=d[g],v=f;for(u=s-1;u<=o+1;u++)u!==m&&h(t[v][u]);K(t,e,f-2,s,o,f-2-e>o-s?r:"vertical",n,a,l),K(t,f+2,i,s,o,i-(f+2)>o-s?r:"vertical",n,a,l)}else{let c=[];for(let t=s;t<=o;t+=2)c.push(t);let d=[];for(let t=e-1;t<=i+1;t+=2)d.push(t);let u,p=Math.floor(Math.random()*c.length),g=Math.floor(Math.random()*d.length),f=c[p],m=d[g],v=f;for(u=e-1;u<=i+1;u++)u!==m&&h(t[u][v]);K(t,e,i,s,f-2,i-e>f-2-s?"horizontal":r,n,a,l),K(t,e,i,f+2,o,i-e>o-(f+2)?"horizontal":r,n,a,l)}}var Q={components:{VisualizerCanvas:N,Info:Y},data:()=>({visualizerState:"clear",algorithms:[{algorithm:"dijkstra",heuristic:"",displayName:"Dijkstra's Algorithm",type:"weighted",info:{heading:"Dijkstra's Algorithm",text:"Dijkstra یکی از پایه‌ای‌ترین و مهم‌ترین الگوریتم‌های مسیریابی است که یک درخت از کوتاه‌ترین مسیرها را از رأس شروع (مبدأ) تا تمام نقاط دیگر گراف ایجاد می‌کند.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tاین الگوریتم از نوع <b>وزن‌دار (weighted)</b> است و <b>کوتاه‌ترین مسیر</b> را تضمین می‌کند!"}},{algorithm:"astar",heuristic:"poweredManhattanDistance",displayName:"A* Search",type:"weighted",info:{heading:"A* Search Algorithm",text:"A* یکی از قدرتمندترین و محبوب‌ترین الگوریتم‌ها برای مسیریابی و پیمایش گراف است. این الگوریتم با اضافه‌کردن یک تابع تخمینی (heuristic) به جست‌وجوی معمولی در گراف، در هر قدم کمی جلوتر را بررسی می‌کند تا تصمیم‌های بهینه‌تری بگیرد.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tاین الگوریتم از نوع <b>وزن‌دار (weighted)</b> است و <b>کوتاه‌ترین مسیر</b> را تضمین می‌کند!"}},{algorithm:"bfs",heuristic:"",displayName:"Breadth-first Search",type:"unweighted",info:{heading:"Breadth-first Search",text:"Breadth-first Search الگوریتمی برای پیمایش یا جست‌وجوی درخت و گراف است. این الگوریتم از ریشه شروع می‌کند و ابتدا تمام گره‌های هم‌سطح (در یک عمق) را بررسی می‌کند، سپس به سراغ سطح بعدی می‌رود.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tاین الگوریتم از نوع <b>بدون‌وزن (unweighted)</b> است و <b>کوتاه‌ترین مسیر</b> را تضمین می‌کند!"}},{algorithm:"dfs",heuristic:"",displayName:"Depth-first Search",type:"unweighted",info:{heading:"Depth-first Search",text:"Depth-first Search الگوریتمی برای پیمایش یا جست‌وجوی درخت و گراف است. الگوریتم از ریشه شروع می‌کند و تا جایی که ممکن باشد در هر شاخه به عمق می‌رود، سپس به عقب برمی‌گردد و شاخه‌های دیگر را ادامه می‌دهد.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tاین الگوریتم از نوع <b>بدون‌وزن (unweighted)</b> است و <b>کوتاه‌ترین مسیر را تضمین نمی‌کند</b>!"}}],swarm:{algorithm:"CLA",heuristic:"manhattanDistance",displayName:"Swarm Algorithm",type:"weighted",info:{heading:"Swarm Algorithm",text:"Swarm Algorithm (به‌احتمال زیاد توسعه‌یافته توسط Clément Mihailescu و Hussein Farah) در اصل ترکیبی از Dijkstra و A* است. به‌طور دقیق‌تر، در حالی که مانند A* به سمت گره هدف همگرا می‌شود، همچنان شبیه Dijkstra تعداد قابل‌توجهی از گره‌های همسایه اطراف گره شروع را نیز کاوش می‌کند.\n\t\t\t\t<br><br>\n\t\t\t\tاین الگوریتم از نوع <b>وزن‌دار (weighted)</b> است و <b>کوتاه‌ترین مسیر را تضمین نمی‌کند</b>!"}},selectedAlgorithm:null,speeds:[{text:"سریع",value:15},{text:"متوسط",value:25},{text:"کند",value:45},{text:"خیلی کند",value:80}],selectedSpeed:null,mazeAlgorithms:["Random Maze","Recursive Division"],dropdownOpen:!1,nodeDimensions:{height:8,width:8},rows:30,cols:30,grid:[],ground:null,controlType:"Orbit",start:{row:3,col:5},finish:{row:16,col:22},worldSetup:!1,deviceCamInput:!1,streaming:!1,thresholdValue:100,colors:{default:{r:1,g:1,b:1},start:{r:0,g:1,b:0},finish:{r:1,g:0,b:0},wall:{r:.109,g:.109,b:.45},visited:{r:.329,g:.27,b:.968},path:{r:1,g:1,b:0}},infoStatus:"",infoObject:{heading:"",text:""}}),watch:{selectedAlgorithm:function(t,e){"unweighted"==t.type&&this.clearWalls(),this.dropdownOpen=!1,this.$refs.info.resetToLegends()},worldSetup:function(t,e){t?this.clearPath():this.deviceCamInput=!1},deviceCamInput:function(t,e){if(t){function i(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}this.clearWalls();const t=document.querySelector("#video-canvas");t.getContext("2d");const e=document.querySelector("video");this.thresholdValue=100;const s=17,o=512,r=512;if(i()){t.width=o/s,t.height=r/s;const i={video:{width:{exact:o/s},height:{exact:r/s}}};navigator.mediaDevices.getUserMedia(i).then(t=>{e.srcObject=t,this.streaming=!0})}else alert("getUserMedia() توسط مرورگر شما پشتیبانی نمی‌شود.")}else{const t=document.querySelector("video"),e=t.srcObject,i=e.getTracks();i.forEach((function(t){t.stop()})),t.srcObject=null,this.streaming=!1}}},created(){this.selectedAlgorithm=this.algorithms[0],this.start.gridId=this.start.row*this.cols+this.start.col,this.finish.gridId=this.finish.row*this.cols+this.finish.col,this.selectedSpeed=this.speeds[0]},methods:{onClick(t){if("running"!=this.visualizerState)if("unweighted"!=this.selectedAlgorithm.type)if("wall"!=t.status){if("start"==t.status||"finish"==t.status)return;t.status="wall"}else t.status="default";else this.$refs.info.error({heading:"اوه!",text:"در الگوریتم‌های بدون‌وزن (unweighted) امکان اضافه کردن دیوار وجود ندارد."})},onMazeDropdownClick(){"unweighted"!=this.selectedAlgorithm.type?this.dropdownOpen=!this.dropdownOpen:(this.dropdownOpen=!1,this.$refs.info.error({heading:"اوه!",text:"در الگوریتم‌های بدون‌وزن (unweighted) امکان اضافه کردن دیوار وجود ندارد."}))},updateEnds(t){t.start?(this.start=t.start,this.start.gridId=t.start.row*this.cols+t.start.col):(this.finish=t.finish,this.finish.gridId=t.finish.row*this.cols+t.finish.col)},unlockSwarm(){console.log("Unlocked Swarm"),this.algorithms.push(this.swarm)},clearWalls(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++){let i="default";"wall"==this.grid[t][e].status&&this.$set(this.grid[t][e],"status",i)}},clearPath(){_["a"].removeAll();for(let t=0;t<this.rows;t++)for(let e=0;e<this.cols;e++){let i="default";t==this.start.row&&e==this.start.col?i="start":t==this.finish.row&&e==this.finish.col&&(i="finish"),"wall"!=this.grid[t][e].status&&this.$set(this.grid[t][e],"status",i),this.$set(this.grid[t][e],"distance",1/0),this.$set(this.grid[t][e],"totalDistance",1/0),this.$set(this.grid[t][e],"heuristicDistance",null),this.$set(this.grid[t][e],"direction",null),this.$set(this.grid[t][e],"previousNode",null)}this.visualizerState="clear"},switchControl(){"Orbit"==this.controlType?(this.controlType="PointerLock",setTimeout(()=>{this.$refs.info.alert({heading:"شروع نمای اول‌شخص",text:"برای شروع حرکت ماوس در نمای اول‌شخص، روی هر نقطه از بوم (Canvas) کلیک کنید. برای خروج از این حالت، کلید Esc را فشار دهید."})},2e3)):(this.controlType="Orbit",this.$refs.info.resetToLegends())},moveCamera(){this.$refs.visualizer.controls.enabled=!1,new _["a"].Tween(this.$refs.visualizer.camera.position).to({x:-100,y:200,z:100},2e3).easing(_["a"].Easing.Exponential.Out).onUpdate(()=>{this.$refs.visualizer.camera.lookAt(this.$refs.visualizer.scene.position)}).onComplete(()=>{this.$refs.visualizer.controls.enabled=!0}).start()},visualizeAlgorithm(){let t=this.selectedSpeed.value;this.clearPath(),this.$nextTick(()=>{this.visualizerState="running";const e=this.grid[this.start.row][this.start.col],i=this.grid[this.finish.row][this.finish.col];let s,o=[];if("weighted"==this.selectedAlgorithm.type?s=R(this.grid,e,i,o,this.selectedAlgorithm.algorithm,this.selectedAlgorithm.heuristic):(this.clearWalls(),s=G(this.grid,e,i,o,this.selectedAlgorithm.algorithm)),console.log("success:",s),0==s)return this.clearPath(),this.visualizerState="finished",void this.$refs.info.error({heading:"مسیر پیدا نشد",text:"وقتی یکی از نقاط شروع یا پایان غیرقابل‌دسترسی باشد، مسیری بین آن‌ها پیدا نخواهد شد."});const r=z(i);this.$nextTick(()=>{this.animateAlgorithm(o,r,t)})})},animateAlgorithm(t,e,i){for(let s=0;s<=t.length;s++){if(s===t.length)return void setTimeout(()=>{this.animateShortestPath(e,5*i)},i*s);t[s].row==this.start.row&&t[s].col==this.start.col||t[s].row==this.finish.row&&t[s].col==this.finish.col||setTimeout(()=>{const e=t[s];e&&O(e,this.ground.geometry,[{r:1,g:.321,b:.784},this.colors.visited],300,{position:!1})},i*s)}},animateShortestPath(t,e){let i=this;for(let s=0;s<t.length;s++)setTimeout(()=>{const e=t[s];O(e,this.ground.geometry,[this.colors.path],void 0,{position:!1}),s==t.length-1&&(i.visualizerState="finished",i.$refs.info.alert(this.selectedAlgorithm.info))},e*s)},generateMaze(t){this.dropdownOpen=!1,this.clearWalls(),this.clearPath();let e=[];"Random Maze"==t?X(this.grid,e,"wall"):K(this.grid,2,this.grid.length-3,2,this.grid[0].length-3,"horizontal",!1,e,"wall"),this.animateMaze(e,"wall",30)},animateMaze(t,e,i){for(let s=0;s<t.length;s++)setTimeout(()=>{const i=t[s];i.status=e},i*s)},clearFocus(){document.getElementsByClassName("header")[0].click()}}},Z=Q,tt=(i("378b"),Object(l["a"])(Z,b,y,!1,null,null,null)),et=tt.exports,it=function(){var t=this;t._self._c;return t._m(0)},st=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"about-page"},[e("div",{staticClass:"about-card"},[e("h1",[t._v("درباره این پروژه")]),e("section",{staticClass:"about-section"},[e("h2",[t._v("این پروژه چیست و هدف از ساخت آن چیست؟")]),e("p",[t._v(" این وب‌اپ یک «ویژوالایزر مسیریابی سه‌بعدی» است که به شما اجازه می‌دهد الگوریتم‌های مختلف مسیریابی را به‌صورت زنده روی یک شبکه سه‌بعدی مشاهده کنید. در پسِ این پروژه، مفاهیم مهمی از "),e("strong",[t._v("ریاضی و علوم کامپیوتر")]),t._v(" مانند گراف‌ها، کوتاه‌ترین مسیر، و آنالیز الگوریتم‌ها قرار دارد. ")]),e("p",[t._v(" ایده‌ی اصلی این است که نشان دهد چطور می‌توان مفاهیم نظری ریاضی (مثل گراف و فاصله، و الگوریتم‌هایی مانند Dijkstra و A*) را به صورت یک تجربه‌ی بصری و تعاملی درآورد تا درک آن برای دانش‌آموزان و علاقه‌مندان ساده‌تر و جذاب‌تر شود. ")]),e("p",[t._v(" این پروژه به طور ویژه برای "),e("strong",[t._v("همایش ریاضی شهرستان سلطانیه")]),t._v(" طراحی و پیاده‌سازی شده است تا پیوندی بین ریاضیات، برنامه‌نویسی و دنیای واقعی ایجاد کند. ")])]),e("section",{staticClass:"about-section"},[e("h2",[t._v("سازنده پروژه")]),e("ul",{staticClass:"about-list"},[e("li",[e("span",[t._v("نام:")]),t._v(" فرحان علیمحمدی")]),e("li",[e("span",[t._v("پایه و رشته:")]),t._v(" پایه دوازدهم، رشته ریاضی")]),e("li",[e("span",[t._v("مدرسه:")]),t._v(" دبیرستان علامه حلی")]),e("li",[e("span",[t._v("معلم راهنما:")]),t._v(" دکتر سید امیر طاهری")])])]),e("section",{staticClass:"about-section"},[e("h2",[t._v("مهارت‌های برنامه‌نویسی و فناوری")]),e("p",[t._v(" این پروژه با تکیه بر تجربه و علاقه به توسعه‌ی وب و برنامه‌نویسی مدرن ساخته شده است. برخی از فناوری‌ها و مهارت‌های مرتبط: ")]),e("ul",{staticClass:"skills-list"},[e("li",[e("span",[t._v("زبان‌ها:")]),t._v(" JavaScript، TypeScript، Rust")]),e("li",[e("span",[t._v("فریم‌ورک‌ها و کتابخانه‌ها:")]),t._v(" Vue.js، React، Next.js، Node.js")]),e("li",[e("span",[t._v("استایل و UI مدرن:")]),t._v(" Sass / SCSS، Tailwind CSS، طراحی رابط کاربری دارک و مینیمال")]),e("li",[e("span",[t._v("سایر مهارت‌ها:")]),t._v(" کار با Three.js، انیمیشن‌های تعاملی، بهینه‌سازی تجربه کاربری (UX)")])])]),e("section",{staticClass:"about-section"},[e("h2",[t._v("گیت‌هاب و پروژه‌های دیگر")]),e("p",[t._v(" برای مشاهده‌ی این پروژه و سایر کارها و تجربیات برنامه‌نویسی، می‌توانید به حساب گیت‌هاب من سر بزنید: ")]),e("p",{staticClass:"github-link"},[e("a",{attrs:{href:"https://github.com/farhanalimohammadi",target:"_blank",rel:"noopener noreferrer"}},[t._v(" github.com/farhanalimohammadi ")])])])])])}],ot={name:"AboutPage"},rt=ot,nt=(i("9b9f"),Object(l["a"])(rt,it,st,!1,null,null,null)),at=nt.exports;s["a"].use(w["a"]);var lt=new w["a"]({mode:"history",routes:[{path:"/",name:"Home",component:et},{path:"/about",name:"About",component:at}]});s["a"].component("Button",v),s["a"].config.productionTip=!1,new s["a"]({router:lt,render:t=>t(h)}).$mount("#app")},"5ee0":function(t,e,i){"use strict";i("866d")},"76ed":function(t,e,i){t.exports=i.p+"img/info.f696b39f.svg"},"79c3":function(t,e,i){},"7ec9":function(t,e,i){t.exports=i.p+"img/building2.ee52f081.png"},"866d":function(t,e,i){},"9b9f":function(t,e,i){"use strict";i("c5f6")},"9e9f":function(t,e,i){"use strict";i("2180")},a1c9:function(t,e,i){var s={"./building1.png":"dc30","./building2.png":"7ec9","./building3.png":"0e70","./ground-pebbles.png":"f885","./ground.png":"513b"};function o(t){var e=r(t);return i(e)}function r(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="a1c9"},ad9f:function(t,e,i){t.exports=i.p+"img/reset-camera.956978fe.svg"},bc84:function(t,e,i){t.exports=i.p+"img/maze.5903b0b4.svg"},c5f6:function(t,e,i){},dc30:function(t,e,i){t.exports=i.p+"img/building1.d4798374.png"},f885:function(t,e,i){t.exports=i.p+"img/ground-pebbles.be570c43.png"},fe3a:function(t,e,i){"use strict";i("79c3")}});
//# sourceMappingURL=app.78ca690c.js.map